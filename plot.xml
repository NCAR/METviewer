
<plot_spec>
	 
	<!-- database connection -->
	<connection>
		<host>kemosabe:3306</host>
		<database>metvdb_hmt</database>
		<user>pgoldenb</user>
		<password>pgoldenb</password>		
	</connection>
	
	<!-- file sytem -->
	<folders>
		<r_tmpl>/home/pgoldenb/apps/verif/metviewer/R_tmpl</r_tmpl>
		<r_work>/d1/pgoldenb/var/qnse/R_work</r_work>
		<plots>/d1/pgoldenb/var/qnse/plots</plots>
	</folders>	

	<!-- global date list -->	
	<date_list name="initdates">
		<start>2010-01-18</start>
		<end>2010-02-05</end>
		<hour>12</hour>
		<field name="initdate" />
	</date_list>
	
	<plot name="lead_series24">
	
		<!-- plot type -->
		<template>series_plot.R_tmpl</template>
		
		<!-- independent variable -->
		<indep name="fcst_lead">
			<val label="24">240000</val>
			<val label="48">480000</val>
			<val label="72">720000</val>
			<val label="96">960000</val>
		</indep>

		<!-- series1 variables and values -->
		<series1>
			<field name="model">
				<val>arw-tom-gep0</val>			
				<val>arw-fer-gep1</val>			
				<val>arw-sch-gep2</val>			
				<val>arw-tom-gep3</val>			
				<val>nmm-fer-gep4</val>			
				<val>arw-fer-gep5</val>			
				<val>arw-sch-gep6</val>			
				<val>arw-tom-gep7</val>			
				<val>arw-fer-gep8</val>			
				<val>gfs</val>			
				<val>ens-mean</val>			
			</field>		
		</series1>
		
		<!-- series2 variables and values -->
		<series2>
			<field name="model">
				<val>ens-mean</val>			
			</field>		
		</series2>
		
		<!-- series values for calculating observation rate -->
		<series_nobs>
			<field name="model">
				<val>ens-mean</val>
			</field>		
		</series_nobs>
		
		<!-- dependent variable(s) and plot series -->
		<dep>
			
			<!-- dependent variable 1 -->
			<dep1>
				<fcst_var name="APCP_24">
					<stat>FBIAS</stat>
				</fcst_var>
			</dep1>
			
			<!-- dependent variable 2 -->
			<dep2>
				<fcst_var name="APCP_24">
					<stat>BASER</stat>
				</fcst_var>
			</dep2>
			
			<!-- fixed values -->
			<fix>
				<fcst_var name="APCP_24">
					<var name="fcst_lev">A24</var>
				</fcst_var>
			</fix>		
		</dep>
		
		<!-- aggregate fields and values -->
		<agg>
			<field name="vx_mask">
				<val>LAND</val>
				<val>HUC4_1605</val>
				<val>HUC4_1803</val>
				<val>HUC4_1804</val>
				<val>HUC4_1805</val>
				<val>HUC4_1806</val>
				<val>CNRFC</val>
			</field>
			
			<field name="obtype">
				<val>MC_PCP</val>
				<val>ADPSFC</val>
			</field>
			
			<field name="fcst_thresh">
				<val>>0.000</val>
				<val>>=0.254</val>
				<val>>=12.700</val>
				<val>>=127.000</val>
				<val>>=2.540</val>
				<val>>=25.400</val>
				<val>>=76.200</val>
			</field>
			
			<field name="fcst_valid_beg">
				<val>2010-02-08 12:00:00</val>
			</field>
			
			<!--  example date_list  
			<field name="initdate">
				<date_list id="initdates"/>
			</field>
			 -->
			
			<!--  example set
			<field name="fcst_lead">
				<set name="Day1">
					<val>60000</val>
					<val>120000</val>
					<val>180000</val>
					<val>240000</val>
				</set>
			</field>
			-->
		</agg>
		
		<!-- templates -->
		<tmpl>
			<val_map name="obtype">
				<pair> <key>MC_PCP</key>  <val>Stage IV</val> </pair>
				<pair> <key>ADPSFC</key>  <val>Gauge</val>    </pair>
			</val_map>
			<val_map name="vx_mask">
				<pair> <key>LAND</key>    <val>FULL</val>     </pair>
			</val_map>
			
			<data_file>{vx_mask}/lead_series_valid/{fcst_valid_beg}V/{obtype}_{dep1_1}_{dep1_1_stat1}_{fcst_thresh?symbol=letters;units=in}.data</data_file>
			<plot_file>{vx_mask}/lead_series_valid/{fcst_valid_beg}V/{obtype}_{dep1_1}_{dep1_1_stat1}_{fcst_thresh?symbol=letters;units=in}.png</plot_file>
			<r_file>{vx_mask}/lead_series_valid/{fcst_valid_beg}V/{obtype}_{dep1_1}_{dep1_1_stat1}_{fcst_thresh?symbol=letters;units=in}.R</r_file>
			<title>EVENT PERFORMANCE for {dep1_1}  {fcst_thresh?units=in}\" {dep1_1_stat1}\nCONSTANT VALID TIME {fcst_valid_beg}V - Region: {vx_mask?map=true} Obs: {obtype?map=true}</title>
			<x_label>FCST_LEAD</x_label>
			<y1_label>{dep1_1_stat1}</y1_label>
			<y2_label>Base Rate (observed event frac.)</y2_label>
		</tmpl>
		
		<!-- plot formatting and options -->
		<event_equal>false</event_equal>
		<plot1_diff>false</plot1_diff>
		<plot2_diff>false</plot2_diff>
		<num_stats>false</num_stats>
		<indy1_stag>false</indy1_stag>
		<indy2_stag>false</indy2_stag>
		<grid_on>true</grid_on>
		<sync_axes>false</sync_axes>
		<dump_points1>false</dump_points1>
		<dump_points2>false</dump_points2>
		<log_y1>false</log_y1>
		<log_y2>false</log_y2>
		
		<!-- bootstrapping configuration
		<bootstrapping>
			<boot_repl>1000</boot_repl>
			<boot_ci>bca</boot_ci>
			<boot_diff1>TRUE</boot_diff1>
			<boot_diff2>TRUE</boot_diff2>
		</bootstrapping>		
 		-->
 		
		<plot_type>png256</plot_type>
		<plot_height>8.5</plot_height>
		<plot_width>11</plot_width>
		<plot_res>72</plot_res>
		<plot_units>in</plot_units>
		<mar>c(8, 4, 5, 4)</mar>
		<mgp>c(1, 1, 0)</mgp>
		<cex>1</cex>
		<title_weight>2</title_weight>
		<title_size>1.4</title_size>
		<title_offset>-.4</title_offset>
		<title_align>.5</title_align>
		<xtlab_orient>1</xtlab_orient>
		<xtlab_perp>-.75</xtlab_perp>
		<xtlab_horiz>.5</xtlab_horiz>
		<xlab_weight>1</xlab_weight>
		<xlab_size>1</xlab_size>
		<xlab_offset>2</xlab_offset>
		<xlab_align>.5</xlab_align>
		<ytlab_orient>1</ytlab_orient>
		<ytlab_perp>.5</ytlab_perp>
		<ytlab_horiz>.5</ytlab_horiz>
		<ylab_weight>1</ylab_weight>
		<ylab_size>1</ylab_size>
		<ylab_offset>-2</ylab_offset>
		<ylab_align>.5</ylab_align>
		<grid_lty>3</grid_lty>
		<grid_col>#CCCCCC</grid_col>
		<grid_lwd>1</grid_lwd>
		<grid_x>listX</grid_x>
		<x2tlab_orient>1</x2tlab_orient>
		<x2tlab_perp>1</x2tlab_perp>
		<x2tlab_horiz>.5</x2tlab_horiz>
		<x2lab_weight>1</x2lab_weight>
		<x2lab_size>.8</x2lab_size>
		<x2lab_offset>-.5</x2lab_offset>
		<x2lab_align>.5</x2lab_align>
		<y2tlab_orient>1</y2tlab_orient>
		<y2tlab_perp>.5</y2tlab_perp>
		<y2tlab_horiz>.5</y2tlab_horiz>
		<y2lab_weight>1</y2lab_weight>
		<y2lab_size>1</y2lab_size>
		<y2lab_offset>1</y2lab_offset>
		<y2lab_align>.5</y2lab_align>
		<legend_size>.8</legend_size>
		<legend_box>o</legend_box>
		<legend_inset>c(0, -.25)</legend_inset>
		<legend_ncol>3</legend_ncol>
		<box_boxwex>1</box_boxwex>
		<box_notch>FALSE</box_notch>
		<ci_alpha>.05</ci_alpha>
		
		<plot_ci>c("norm", "none", "none", "none", "none", "none", "none", "none", "none", "none", "none", "none")</plot_ci>
		<colors>c("#33FF00FF", "#00FF19FF", "#00FF66FF", "#00FFB2FF", "#FF0000FF", "#00FFFFFF", "#00B3FFFF", "#0066FFFF", "#FF4C00FF", "#A6A600FF", "#000000FF", "#EFEFEFFF")</colors>
		<pch>c(19, 19, 19, 19, 19, 19, 19, 19, 19, 19, 19, 19)</pch>
		<type>c("b", "b", "b", "b", "b", "b", "b", "b", "b", "b", "b", "h")</type>
		<lty>c(1, 2, 3, 4, 1, 5, 6, 1, 2, 1, 1, 1)</lty>
		<lwd>c(2, 2, 2, 2, 2, 2, 2, 2, 2, 4, 4, 40)</lwd>
		<con_series>c(0, 0, 1, 0, 0, 0, 0, 0, 0, 0, 0, 0)</con_series>
		<!-- <legend>c("series1", "series2", "series3")</legend> -->
		<y1_lim>c(0,5)</y1_lim>
		<y1_bufr>.04</y1_bufr>
		<y2_lim>c(0,1)</y2_lim>
		<y2_bufr>.04</y2_bufr>
		<plot_cmd>par(usr=listY1Usr); abline(h=1, lty=1, col="#999999FF");</plot_cmd>
	</plot>

</plot_spec>
