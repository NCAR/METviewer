
<plot_spec>
	 
	<connection>
		<host>kemosabe:3306</host>
		<database>metvdb_hwt</database>
		<user>pgoldenb</user>
		<password>pgoldenb</password>		
	</connection>
	
	<folders>
		<r_tmpl>/home/pgoldenb/apps/verif/metviewer/R_tmpl</r_tmpl>
		<r_work>/d1/pgoldenb/var/hwt/R_work</r_work>
		<plots>/d1/pgoldenb/var/hwt/plots</plots>
	</folders>
	
	<date_range name="fcst_init_range">
<!--		<start><offset_days><day_offset>-2</day_offset><hour>21</hour></offset_days></start>-->
<!--		<end><offset_days><day_offset>-1</day_offset><hour>0</hour></offset_days></end>-->
		<start>2010-06-09 21:00:00</start>
		<end>2010-06-10 00:00:00</end>
	</date_range>
	
	<date_range_list name="fcst_init_beg_range">
		<range_start>2010-05-14 21:00:00</range_start>
		<range_end>2010-06-20 21:00:00</range_end>
<!--		<range_start><date_offset><day_offset>-14</day_offset><hour>21</hour></date_offset></range_start>-->
<!--		<range_end><date_offset><day_offset>-7</day_offset><hour>21</hour></date_offset></range_end>-->
		<range_length>180</range_length>		
		<inc>720</inc>
	</date_range_list>
	
	<plot name="hwt_prob" run="false">
	
		<template>series_plot.R_tmpl</template>
		
		<indep name="fcst_valid_beg" depends="fcst_init_beg">
			<date_list>
				<start><offset_days><day_offset>0</day_offset><hour>0</hour></offset_days></start>
				<end><offset_days><day_offset>1</day_offset><hour>6</hour></offset_days></end>
<!--				<start><offset_days><day_offset>-1</day_offset><hour>0</hour></offset_days></start>-->
<!--				<end><offset_days><day_offset>0</day_offset><hour>6</hour></offset_days></end>-->
<!--				<start>2010-06-10 00:00:00</start>-->
<!--				<end>2010-06-11 06:00:00</end>-->
				<inc>10800</inc>
				<label_format>yyyyMMdd_HH</label_format>
			</date_list>
		</indep>
		
		<plot_fix>
			<field name="fcst_init_beg">
<!--				<date_range name="fcst_init_range"/>-->
					<date_range_list name="fcst_init_beg_range"/>
			</field>		
		</plot_fix>
		
		<series1>
			<field name="model">
				<val>ssef_s4ens</val>
				<val>sref</val>
				<val>ssef_s4ens_pn</val>
			</field>
		</series1>
		
		<agg>
			<field name="vx_mask">
				<val>FULL</val>
				<val>VORTEX2</val>
				<val>DAILY</val>
			</field>
		</agg>
		
		<event_equal>false</event_equal>
		<plot1_diff>false</plot1_diff>
		<plot2_diff>false</plot2_diff>
		<num_stats>false</num_stats>
		<indy1_stag>false</indy1_stag>
		<indy2_stag>false</indy2_stag>
		<grid_on>true</grid_on>
		<sync_axes>false</sync_axes>
		<dump_points1>false</dump_points1>
		<dump_points2>false</dump_points2>
		<log_y1>false</log_y1>
		<log_y2>false</log_y2>
 		
		<plot_type>png16m</plot_type>
		<plot_height>8.5</plot_height>
		<plot_width>11</plot_width>
		<plot_res>72</plot_res>
		<plot_units>in</plot_units>
		<mar>c(11, 4, 3, 4)</mar>
		<mgp>c(1, 1, 0)</mgp>
		<cex>1</cex>
		<title_weight>2</title_weight>
		<title_size>1.4</title_size>
		<title_offset>-.4</title_offset>
		<title_align>.5</title_align>
		<xtlab_orient>3</xtlab_orient>
		<xtlab_perp>.5</xtlab_perp>
		<xtlab_horiz>.85</xtlab_horiz>
		<xlab_weight>1</xlab_weight>
		<xlab_size>1</xlab_size>
		<xlab_offset>8</xlab_offset>
		<xlab_align>.5</xlab_align>
		<ytlab_orient>1</ytlab_orient>
		<ytlab_perp>.5</ytlab_perp>
		<ytlab_horiz>.5</ytlab_horiz>
		<tlab_weight>1</tlab_weight>
		<ylab_size>1</ylab_size>
		<ylab_offset>-2</ylab_offset>
		<ylab_align>.5</ylab_align>
		<grid_lty>3</grid_lty>
		<grid_col>#CCCCCC</grid_col>
		<grid_lwd>1</grid_lwd>
		<grid_x>listX</grid_x>
		<x2tlab_orient>1</x2tlab_orient>
		<x2tlab_perp>1</x2tlab_perp>
		<x2tlab_horiz>.5</x2tlab_horiz>
		<x2lab_weight>1</x2lab_weight>
		<x2lab_size>.8</x2lab_size>
		<x2lab_offset>-.5</x2lab_offset>
		<x2lab_align>.5</x2lab_align>
		<y2tlab_orient>1</y2tlab_orient>
		<y2tlab_perp>.5</y2tlab_perp>
		<y2tlab_horiz>.5</y2tlab_horiz>
		<y2lab_weight>1</y2lab_weight>
		<y2lab_size>1</y2lab_size>
		<y2lab_offset>1</y2lab_offset>
		<y2lab_align>.5</y2lab_align>
		<legend_size>.8</legend_size>
		<legend_box>o</legend_box>
		<legend_inset>c(0, -.35)</legend_inset>
		<legend_ncol>4</legend_ncol>
		<box_boxwex>1</box_boxwex>
		<box_notch>FALSE</box_notch>
		<ci_alpha>.05</ci_alpha>
		
	</plot>
	
	<plot name="hwt_prob_brr" inherits="hwt_prob" run="false">
		
		<plot_ci>c("none", "none", "none", "none", "none", "none", "none", "none", "none", "none", "none", "none")</plot_ci>
		<pch>c(20, 20, 20, 20, 20, 20, 20, 20, 20, 20, 20, 20)</pch>
		<type>c("b", "b", "b", "b", "b", "b", "b", "b", "b", "b", "b", "b")</type>
		<lty>c(1, 1, 1, 2, 2, 2, 3, 3, 3, 4, 4, 4)</lty>
		<con_series>c(1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1)</con_series>		
		<colors>c("#000000FF", "#FF55AAFF", "#FFAA00FF", "#000000FF", "#FF55AAFF", "#FFAA00FF", "#000000FF", "#FF55AAFF", "#FFAA00FF", "#000000FF", "#FF55AAFF", "#FFAA00FF")</colors>
		<lwd>c(3, 3, 3, 2, 2, 2, 2, 2, 2, 2, 2, 2)</lwd>

	</plot>
	
	<plot name="hwt_prob_brr03" inherits="hwt_prob_brr" run="false">
		<tmpl>
			<data_file>{vx_mask}/grid_stat/date_series_valid/{fcst_init_beg}/PROB_APCP_03_BRR_{obs_thresh?symbol=letters}.data</data_file>
			<plot_file>{vx_mask}/grid_stat/date_series_valid/{fcst_init_beg}/PROB_APCP_03_BRR_{obs_thresh?symbol=letters}.png</plot_file>
			<r_file>{vx_mask}/grid_stat/date_series_valid/{fcst_init_beg}/PROB_APCP_03_BRR_{obs_thresh?symbol=letters}.R</r_file>
			<title>{vx_mask} APCP_03 {dep1_1_stat1} {obs_thresh?units=in}\" - CONST INIT TIME: {fcst_init_beg}</title>
			<x_label>FCST_VALID_BEG</x_label>
			<y1_label>APCP_03 BRIER SCORE, REL., RES., UNC.</y1_label>
		</tmpl>
	</plot>
	
	<plot name="hwt_prob_brr06" inherits="hwt_prob_brr" run="false">
		<tmpl>
			<data_file>{vx_mask}/grid_stat/date_series_valid/{fcst_init_beg}/PROB_APCP_06_BRR_{obs_thresh?symbol=letters}.data</data_file>
			<plot_file>{vx_mask}/grid_stat/date_series_valid/{fcst_init_beg}/PROB_APCP_06_BRR_{obs_thresh?symbol=letters}.png</plot_file>
			<r_file>{vx_mask}/grid_stat/date_series_valid/{fcst_init_beg}/PROB_APCP_06_BRR_{obs_thresh?symbol=letters}.R</r_file>
			<title>{vx_mask} APCP_06 {dep1_1_stat1} {obs_thresh?units=in}\" - CONST INIT TIME: {fcst_init_beg}</title>
			<x_label>FCST_VALID_BEG</x_label>
			<y1_label>APCP_06 BRIER SCORE, REL., RES., UNC.</y1_label>
		</tmpl>
	</plot>
	
    <plot name="hwt_prob_brr03_1270" inherits="hwt_prob_brr03">
    	<agg><field name="obs_thresh"><val>>=12.700</val></field></agg>
        <dep><dep1><fcst_var name="PROB(APCP_03>12.70)"><stat>BRIER</stat><stat>RELIABILITY</stat><stat>RESOLUTION</stat><stat>UNCERTAINTY</stat></fcst_var></dep1></dep>
    </plot>    
    <plot name="hwt_prob_brr03_2540" inherits="hwt_prob_brr03">
    	<agg><field name="obs_thresh"><val>>=25.400</val></field></agg>
        <dep><dep1><fcst_var name="PROB(APCP_03>25.40)"><stat>BRIER</stat><stat>RELIABILITY</stat><stat>RESOLUTION</stat><stat>UNCERTAINTY</stat></fcst_var></dep1></dep>
    </plot>    
    <plot name="hwt_prob_brr03_5080" inherits="hwt_prob_brr03">
    	<agg><field name="obs_thresh"><val>>=50.800</val></field></agg>
        <dep><dep1><fcst_var name="PROB(APCP_03>50.80)"><stat>BRIER</stat><stat>RELIABILITY</stat><stat>RESOLUTION</stat><stat>UNCERTAINTY</stat></fcst_var></dep1></dep>
    </plot>        
    <plot name="hwt_prob_brr06_1270" inherits="hwt_prob_brr06">
    	<agg><field name="obs_thresh"><val>>=12.700</val></field></agg>
        <dep><dep1><fcst_var name="PROB(APCP_06>12.70)"><stat>BRIER</stat><stat>RELIABILITY</stat><stat>RESOLUTION</stat><stat>UNCERTAINTY</stat></fcst_var></dep1></dep>
    </plot>    
    <plot name="hwt_prob_brr06_2540" inherits="hwt_prob_brr06">
    	<agg><field name="obs_thresh"><val>>=25.400</val></field></agg>
        <dep><dep1><fcst_var name="PROB(APCP_06>25.40)"><stat>BRIER</stat><stat>RELIABILITY</stat><stat>RESOLUTION</stat><stat>UNCERTAINTY</stat></fcst_var></dep1></dep>
    </plot>    
    <plot name="hwt_prob_brr06_5080" inherits="hwt_prob_brr06">
    	<agg><field name="obs_thresh"><val>>=50.800</val></field></agg>
        <dep><dep1><fcst_var name="PROB(APCP_06>50.80)"><stat>BRIER</stat><stat>RELIABILITY</stat><stat>RESOLUTION</stat><stat>UNCERTAINTY</stat></fcst_var></dep1></dep>
    </plot>
        
	
	<plot name="hwt_prob_auc" inherits="hwt_prob" run="false">
		<mar>c(11, 4, 3, 4)</mar>
		<legend_inset>c(0, -.35)</legend_inset>

		<plot_ci>c("none", "none", "none")</plot_ci>
		<pch>c(20, 20, 20)</pch>
		<type>c("b", "b", "b")</type>
		<lty>c(1, 1, 1)</lty>
		<con_series>c(1, 1, 1)</con_series>		
		<colors>c("#000000FF", "#FF55AAFF", "#FFAA00FF")</colors>
		<lwd>c(2, 2, 2)</lwd>
		
	</plot>
	
	<plot name="hwt_prob_auc03" inherits="hwt_prob_auc" run="false">
		<tmpl>
			<data_file>{vx_mask}/grid_stat/date_series_valid/{date}/PROB_APCP_03_AUC_{obs_thresh?symbol=letters}.data</data_file>
			<plot_file>{vx_mask}/grid_stat/date_series_valid/{date}/PROB_APCP_03_AUC_{obs_thresh?symbol=letters}.png</plot_file>
			<r_file>{vx_mask}/grid_stat/date_series_valid/{date}/PROB_APCP_03_AUC_{obs_thresh?symbol=letters}.R</r_file>
			<title>{vx_mask} APCP_03 {dep1_1_stat1} {obs_thresh?units=in}\" - CONST INIT TIME: {fcst_init_beg}</title>
			<x_label>FCST_VALID_BEG</x_label>
			<y1_label>APCP_03 Area Under ROC Curve</y1_label>
		</tmpl>
	</plot>
	
	<plot name="hwt_prob_auc06" inherits="hwt_prob_auc" run="false">
		<tmpl>
			<data_file>{vx_mask}/grid_stat/date_series_valid/{date}/PROB_APCP_06_AUC_{obs_thresh?symbol=letters}.data</data_file>
			<plot_file>{vx_mask}/grid_stat/date_series_valid/{date}/PROB_APCP_06_AUC_{obs_thresh?symbol=letters}.png</plot_file>
			<r_file>{vx_mask}/grid_stat/date_series_valid/{date}/PROB_APCP_06_AUC_{obs_thresh?symbol=letters}.R</r_file>
			<title>{vx_mask} APCP_06 {dep1_1_stat1} {obs_thresh?units=in}\" - CONST INIT TIME: {fcst_init_beg}</title>
			<x_label>FCST_VALID_BEG</x_label>
			<y1_label>APCP_06 Area Under ROC Curve</y1_label>
		</tmpl>
	</plot>
	
    <plot name="hwt_prob_auc03_1270" inherits="hwt_prob_auc03">
    	<agg><field name="obs_thresh"><val>>=12.700</val></field></agg>
        <dep><dep1><fcst_var name="PROB(APCP_03>12.70)"><stat>ROC_AUC</stat></fcst_var></dep1></dep>
    </plot>
    <plot name="hwt_prob_auc03_2540" inherits="hwt_prob_auc03">
    	<agg><field name="obs_thresh"><val>>=25.400</val></field></agg>
        <dep><dep1><fcst_var name="PROB(APCP_03>25.40)"><stat>ROC_AUC</stat></fcst_var></dep1></dep>
    </plot>
    <plot name="hwt_prob_auc03_5080" inherits="hwt_prob_auc03">
    	<agg><field name="obs_thresh"><val>>=50.800</val></field></agg>
        <dep><dep1><fcst_var name="PROB(APCP_03>50.80)"><stat>ROC_AUC</stat></fcst_var></dep1></dep>
    </plot>
    <plot name="hwt_prob_auc06_1270" inherits="hwt_prob_auc06">
    	<agg><field name="obs_thresh"><val>>=12.700</val></field></agg>
        <dep><dep1><fcst_var name="PROB(APCP_06>12.70)"><stat>ROC_AUC</stat></fcst_var></dep1></dep>
    </plot>
    <plot name="hwt_prob_auc06_2540" inherits="hwt_prob_auc06">
    	<agg><field name="obs_thresh"><val>>=25.400</val></field></agg>
        <dep><dep1><fcst_var name="PROB(APCP_06>25.40)"><stat>ROC_AUC</stat></fcst_var></dep1></dep>
    </plot>
    <plot name="hwt_prob_auc06_5080" inherits="hwt_prob_auc06">
    	<agg><field name="obs_thresh"><val>>=50.800</val></field></agg>
        <dep><dep1><fcst_var name="PROB(APCP_06>50.80)"><stat>ROC_AUC</stat></fcst_var></dep1></dep>
    </plot>

</plot_spec>