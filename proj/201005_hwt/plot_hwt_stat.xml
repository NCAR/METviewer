
<plot_spec>
	 
	<!-- database connection -->
	<connection>
		<host>kemosabe:3306</host>
		<database>metvdb_hwt</database>
		<user>pgoldenb</user>
		<password>pgoldenb</password>
	</connection>

	<!-- file sytem -->
	<folders>
		<r_tmpl>/home/pgoldenb/apps/verif/metviewer/R_tmpl</r_tmpl>
		<r_work>/d1/pgoldenb/var/hwt/R_work</r_work>
		<plots>/d1/pgoldenb/var/hwt/plots</plots>
	</folders>

	<date_list name="fcst_init_beg">
		<start><date_offset><day_offset>-2</day_offset></date_offset></start>
		<end><offset_days><day_offset>0</day_offset></offset_days></end>
		<field name="fcst_init_beg" />
	</date_list>

	<plot name="hwt_stat" run="false">

		<!-- plot type -->
		<template>series_plot.R_tmpl</template>

		<!-- independent variable -->
		<indep name="fcst_lead">
			<val label="0">0</val>
			<val label="1">10000</val>
			<val label="2">20000</val>
			<val label="3">30000</val>
			<val label="4">40000</val>
			<val label="5">50000</val>
			<val label="6">60000</val>
			<val label="7">70000</val>
			<val label="8">80000</val>
			<val label="9">90000</val>
			<val label="10">100000</val>
			<val label="11">110000</val>
			<val label="12">120000</val>
			<val label="13">130000</val>
			<val label="14">140000</val>
			<val label="15">150000</val>
			<val label="16">160000</val>
			<val label="17">170000</val>
			<val label="18">180000</val>
			<val label="19">190000</val>
			<val label="20">200000</val>
			<val label="21">210000</val>
			<val label="22">220000</val>
			<val label="23">230000</val>
			<val label="24">240000</val>
			<val label="25">250000</val>
			<val label="26">260000</val>
			<val label="27">270000</val>
			<val label="28">280000</val>
			<val label="29">290000</val>
			<val label="30">300000</val>
		</indep>

		<!-- series1 variables and values -->
		<series1>
			<field name="model">
				<val>ssef_s4m3_arw</val>
				<val>ssef_s4m4_arw</val>
				<val>ssef_s4m5_arw</val>
				<val>ssef_s4m6_arw</val>
				<val>ssef_s4m7_arw</val>
				<val>ssef_s4m8_arw</val>
				<val>ssef_s4m9_arw</val>
				<val>ssef_s4m10_arw</val>
				<val>ssef_s4m11_arw</val>
				<val>ssef_s4m12_arw</val>
				<val>ssef_s4m13_arw</val>
				<val>ssef_s4m14_arw</val>
				<val>ssef_s4m15_arw</val>
				<val>ssef_s4m16_arw</val>
				<val>ssef_s4m17_arw</val>
				<val>ssef_s4m18_arw</val>
				<val>ssef_s4m19_arw</val>
				<val>ssef_s4c0_arps</val>
				<val>ssef_s4cn_arps</val>
				<val>ssef_s4c0_arw</val>
				<val>ssef_s4cn_arw</val>
				<val>ssef_s4c0_nmm</val>
				<val>ssef_s4cn_nmm</val>
				<val>ssef_s4m3_nmm</val>
				<val>ssef_s4m4_nmm</val>
				<val>ssef_s4m5_nmm</val>
				<val>ssef_spv4c0</val>
				<val>ssef_spv4cn</val>
				<val>ssef_s4ens</val>
				<val>ssef_spc1</val>
				<val>nam</val>
				<val>hrrr</val>
			</field>
		</series1>

		<!-- series2 variables and values -->
		<series2>
			<field name="model">
				<val>ssef_s4c0_arps</val>
				<val>ssef_s4m3_arw</val>
				<val>ssef_s4m11_arw</val>
				<val>ssef_s4m3_nmm</val>
				<val>hrrr</val>
			</field>
		</series2>

		<!-- series values for calculating observation rate -->
		<series_nobs>
			<field name="model">
				<val>hrrr</val>
			</field>
		</series_nobs>

		<!-- aggregate fields and values -->
		<agg>
			<field name="vx_mask">
				<val>FULL</val>
				<val>VORTEX2</val>
				<val>DAILY</val>
			</field>

			<field name="interp_mthd">
				<val>UW_MEAN</val>
			</field>
			
			<field name="initdate">
<!--				<val>2010-05-28 12:00:00</val>-->
				<date_list name="fcst_init_beg"/>
			</field>			
		</agg>
		
		<!-- plot formatting and options -->
		<event_equal>false</event_equal>
		<plot1_diff>false</plot1_diff>
		<plot2_diff>false</plot2_diff>
		<num_stats>false</num_stats>
		<indy1_stag>false</indy1_stag>
		<indy2_stag>false</indy2_stag>
		<grid_on>true</grid_on>
		<sync_axes>false</sync_axes>
		<dump_points1>false</dump_points1>
		<dump_points2>false</dump_points2>
		<log_y1>false</log_y1>
		<log_y2>false</log_y2>
		
		<!-- <plot_type>png256</plot_type>-->
		<plot_type>png16m</plot_type>
		<plot_height>8.5</plot_height>
		<plot_width>11</plot_width>
		<plot_res>72</plot_res>
		<plot_units>in</plot_units>
		<mar>c(10, 4, 5, 4)</mar>
		<mgp>c(1, 1, 0)</mgp>
		<cex>1</cex>
		<title_weight>2</title_weight>
		<title_size>1.4</title_size>
		<title_offset>-.4</title_offset>
		<title_align>.5</title_align>
		<xtlab_orient>1</xtlab_orient>
		<xtlab_perp>-.75</xtlab_perp>
		<xtlab_horiz>.5</xtlab_horiz>
		<xlab_weight>1</xlab_weight>
		<xlab_size>1</xlab_size>
		<xlab_offset>1.5</xlab_offset>
		<xlab_align>.5</xlab_align>
		<ytlab_orient>1</ytlab_orient>
		<ytlab_perp>.5</ytlab_perp>
		<ytlab_horiz>.5</ytlab_horiz>
		<tlab_weight>1</tlab_weight>
		<ylab_size>1</ylab_size>
		<ylab_offset>-2</ylab_offset>
		<ylab_align>.5</ylab_align>
		<grid_lty>3</grid_lty>
		<grid_col>#CCCCCC</grid_col>
		<grid_lwd>1</grid_lwd>
		<grid_x>listX</grid_x>
		<x2tlab_orient>1</x2tlab_orient>
		<x2tlab_perp>1</x2tlab_perp>
		<x2tlab_horiz>.5</x2tlab_horiz>
		<x2lab_weight>1</x2lab_weight>
		<x2lab_size>.8</x2lab_size>
		<x2lab_offset>-.5</x2lab_offset>
		<x2lab_align>.5</x2lab_align>
		<y2tlab_orient>1</y2tlab_orient>
		<y2tlab_perp>.5</y2tlab_perp>
		<y2tlab_horiz>.5</y2tlab_horiz>
		<y2lab_weight>1</y2lab_weight>
		<y2lab_size>1</y2lab_size>
		<y2lab_offset>1</y2lab_offset>
		<y2lab_align>.5</y2lab_align>
		<legend_size>.8</legend_size>
		<legend_box>o</legend_box>
		<legend_inset>c(0, -.35)</legend_inset>
		<legend_ncol>5</legend_ncol>
		<box_boxwex>1</box_boxwex>
		<box_notch>FALSE</box_notch>
		<ci_alpha>.05</ci_alpha>

		<plot_ci>c("none", "none", "none", "none", "none", "none", "none", "none", "none", "none", 
				   "none", "none", "none", "none", "none", "none", "none", "none", "none", "none", 
				   "none", "none", "none", "none", "none", "none", "none", "none", "none", "none",
				   "none", "none", "none", "none", "none", "none", "none")</plot_ci>
		<colors>c("#33FF33FF", "#33FF33FF", "#33FF33FF", "#33FF33FF", "#33FF33FF", "#33FF33FF", "#33FF33FF", "#33FF33FF", "#33FF33FF", "#33FF33FF",
				  "#33FF33FF", "#33FF33FF", "#33FF33FF", "#33FF33FF", "#33FF33FF", "#33FF33FF", "#33FF33FF", "#FF3300FF", "#FF3300FF", "#FF3300FF",
				  "#FF3300FF", "#FF3300FF", "#FF3300FF", "#A6A600FF", "#A6A600FF", "#A6A600FF", "#FFAA00FF", "#FFAA00FF", "#000000FF", "#990099FF",
				  "#775533FF", "#0000CCFF", "#EFEFEFFF", "#EFEFEFFF", "#EFEFEFFF", "#EFEFEFFF", "#EFEFEFFF")</colors>
		<pch>c(20, 20, 20, 20, 20, 20, 20, 20, 20, 20, 
			   20, 20, 20, 20, 20, 20, 20, 20, 20, 20,
			   20, 20, 20, 20, 20, 20, 20, 20, 20, 20,
			   20, 20, 20, 20, 20, 20, 20)</pch>
		<type>c("l", "l", "l", "l", "l", "l", "l", "l", "l", "l",
				"l", "l", "l", "l", "l", "l", "l", "l", "l", "l",
				"l", "l", "l", "l", "l", "l", "l", "l", "l", "l",
				"l", "l", "h", "h", "h", "h", "h")</type>
		<lty>c(1, 1, 1, 1, 1, 1, 1, 1, 1, 1,
			   1, 1, 1, 1, 1, 1, 1, 1, 1, 1,
			   1, 1, 1, 1, 1, 1, 1, 2, 1, 1,
			   1, 1, 1, 1, 1, 1, 1)</lty>
		<lwd>c(1, 1, 1, 1, 1, 1, 1, 1, 1, 1,
			   1, 1, 1, 1, 1, 1, 1, 1, 1, 3,
			   3, 1, 1, 1, 1, 1, 3, 3, 3, 3,
			   3, 3, 20, 20, 20, 20, 20)</lwd>
		 <con_series>c(1, 1, 1, 1, 1, 1, 1, 1, 1, 1,
		 			   1, 1, 1, 1, 1, 1, 1, 1, 1, 1,
		 			   1, 1, 1, 1, 1, 1, 1, 1, 1, 1,
		 			   1, 1, 0, 0, 0, 0, 0)</con_series> 
		<!-- <con_series>c(0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0)</con_series> -->
		<!-- <legend>c("series1", "series2", "series3")</legend> -->
<!--		<y1_lim>c(0,5)</y1_lim>-->
<!--		<y1_bufr>.04</y1_bufr>-->
		<y2_lim>c(0,.75)</y2_lim>
		<y2_bufr>0</y2_bufr>
	</plot>

	<plot name="hwt_stat_init_refc" inherits="hwt_stat" run="false">
		<agg>
			<field name="fcst_thresh">
				<val>>=20.000</val>
				<val>>=30.000</val>
				<val>>=35.000</val>
				<val>>=40.000</val>
				<val>>=45.000</val>
				<val>>=50.000</val>
				<val>>=60.000</val>
			</field>
		</agg>
		
		<tmpl>
			<data_file>{vx_mask}/grid_stat/lead_series_init/{initdate}/ANALYS_{dep1_1}_{dep1_1_stat1}_{fcst_thresh?symbol=letters}.data</data_file>
			<plot_file>{vx_mask}/grid_stat/lead_series_init/{initdate}/ANALYS_{dep1_1}_{dep1_1_stat1}_{fcst_thresh?symbol=letters}.png</plot_file>
			<r_file>{vx_mask}/grid_stat/lead_series_init/{initdate}/ANALYS_{dep1_1}_{dep1_1_stat1}_{fcst_thresh?symbol=letters}.R</r_file>
			<title>EVENT PERFORMANCE for REFC {fcst_thresh} dBZ {dep1_1_stat1}\nCONSTANT INIT TIME {initdate} - Region: {vx_mask}</title>
			<x_label>FCST_LEAD</x_label>
			<y1_label>{dep1_1_stat1}</y1_label>
			<y2_label>Base Rate (observed event frac.)</y2_label>
		</tmpl>

		<plot_cmd>
			par(usr=listY1Usr);
			if( listDep1Plot$REFC == "FBIAS" ){ abline(h=1, lty=1, col="#999999FF"); }
		</plot_cmd>				
	</plot>

	<plot name="hwt_stat_init_refc_gss" inherits="hwt_stat_init_refc">
		<dep><dep1><fcst_var name="REFC"><stat>GSS</stat></fcst_var></dep1><dep2><fcst_var name="REFC"><stat>BASER</stat></fcst_var></dep2><fix><fcst_var name="REFC"></fcst_var></fix></dep>
		<y1_lim>c(0,1)</y1_lim>
	</plot>
	<plot name="hwt_stat_init_refc_csi" inherits="hwt_stat_init_refc">
		<dep><dep1><fcst_var name="REFC"><stat>CSI</stat></fcst_var></dep1><dep2><fcst_var name="REFC"><stat>BASER</stat></fcst_var></dep2><fix><fcst_var name="REFC"></fcst_var></fix></dep>
		<y1_lim>c(0,1)</y1_lim>
	</plot>
	<plot name="hwt_stat_init_refc_far" inherits="hwt_stat_init_refc">
		<dep><dep1><fcst_var name="REFC"><stat>FAR</stat></fcst_var></dep1><dep2><fcst_var name="REFC"><stat>BASER</stat></fcst_var></dep2><fix><fcst_var name="REFC"></fcst_var></fix></dep>
		<y1_lim>c(0,1.2)</y1_lim>
	</plot>
	<plot name="hwt_stat_init_refc_pody" inherits="hwt_stat_init_refc">
		<dep><dep1><fcst_var name="REFC"><stat>PODY</stat></fcst_var></dep1><dep2><fcst_var name="REFC"><stat>BASER</stat></fcst_var></dep2><fix><fcst_var name="REFC"></fcst_var></fix></dep>
		<y1_lim>c(0,1.2)</y1_lim>
	</plot>
	<plot name="hwt_stat_init_refc_fbias" inherits="hwt_stat_init_refc">
		<dep><dep1><fcst_var name="REFC"><stat>FBIAS</stat></fcst_var></dep1><dep2><fcst_var name="REFC"><stat>BASER</stat></fcst_var></dep2><fix><fcst_var name="REFC"></fcst_var></fix></dep>
		<y1_lim>c(0,10)</y1_lim>
	</plot>

	<plot name="hwt_stat_init_retop" inherits="hwt_stat" run="false">
		<agg>
			<field name="fcst_thresh">
				<val>>=18.000</val>
				<val>>=25.000</val>
				<val>>=30.000</val>
				<val>>=35.000</val>
				<val>>=40.000</val>
				<val>>=45.000</val>
			</field>
		</agg>
		
		<tmpl>
			<data_file>{vx_mask}/grid_stat/lead_series_init/{initdate}/ANALYS_{dep1_1}_{dep1_1_stat1}_{fcst_thresh?symbol=letters}.data</data_file>
			<plot_file>{vx_mask}/grid_stat/lead_series_init/{initdate}/ANALYS_{dep1_1}_{dep1_1_stat1}_{fcst_thresh?symbol=letters}.png</plot_file>
			<r_file>{vx_mask}/grid_stat/lead_series_init/{initdate}/ANALYS_{dep1_1}_{dep1_1_stat1}_{fcst_thresh?symbol=letters}.R</r_file>
			<title>EVENT PERFORMANCE for RETOP {fcst_thresh} kfT {dep1_1_stat1}\nCONSTANT INIT TIME {initdate} - Region: {vx_mask}</title>
			<x_label>FCST_LEAD</x_label>
			<y1_label>{dep1_1_stat1}</y1_label>
			<y2_label>Base Rate (observed event frac.)</y2_label>
		</tmpl>
		
		<plot_cmd>
			par(usr=listY1Usr);
			if( listDep1Plot$RETOP == "FBIAS" ){ abline(h=1, lty=1, col="#999999FF"); }
		</plot_cmd>				
	</plot>

	<plot name="hwt_stat_init_retop_gss" inherits="hwt_stat_init_retop">
		<dep><dep1><fcst_var name="RETOP"><stat>GSS</stat></fcst_var></dep1><dep2><fcst_var name="RETOP"><stat>BASER</stat></fcst_var></dep2><fix><fcst_var name="RETOP"></fcst_var></fix></dep>
		<y1_lim>c(0,1)</y1_lim>
	</plot>
	<plot name="hwt_stat_init_retop_csi" inherits="hwt_stat_init_retop">
		<dep><dep1><fcst_var name="RETOP"><stat>CSI</stat></fcst_var></dep1><dep2><fcst_var name="RETOP"><stat>BASER</stat></fcst_var></dep2><fix><fcst_var name="RETOP"></fcst_var></fix></dep>
		<y1_lim>c(0,1)</y1_lim>
	</plot>
	<plot name="hwt_stat_init_retop_far" inherits="hwt_stat_init_retop">
		<dep><dep1><fcst_var name="RETOP"><stat>FAR</stat></fcst_var></dep1><dep2><fcst_var name="RETOP"><stat>BASER</stat></fcst_var></dep2><fix><fcst_var name="RETOP"></fcst_var></fix></dep>
		<y1_lim>c(0,1.2)</y1_lim>
	</plot>
	<plot name="hwt_stat_init_retop_pody" inherits="hwt_stat_init_retop">
		<dep><dep1><fcst_var name="RETOP"><stat>PODY</stat></fcst_var></dep1><dep2><fcst_var name="RETOP"><stat>BASER</stat></fcst_var></dep2><fix><fcst_var name="RETOP"></fcst_var></fix></dep>
		<y1_lim>c(0,1.2)</y1_lim>
	</plot>
	<plot name="hwt_stat_init_retop_fbias" inherits="hwt_stat_init_retop">
		<dep><dep1><fcst_var name="RETOP"><stat>FBIAS</stat></fcst_var></dep1><dep2><fcst_var name="RETOP"><stat>BASER</stat></fcst_var></dep2><fix><fcst_var name="RETOP"></fcst_var></fix></dep>
		<y1_lim>c(0,10)</y1_lim>
	</plot>

</plot_spec>
