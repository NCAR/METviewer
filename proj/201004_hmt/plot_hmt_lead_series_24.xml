
<plot_spec>
	
	<plot name="lead_series_24" run="false">
	
		<!-- database connection
		<connection>
			<host>kemosabe:3306</host>
			<database>metvdb_hmt</database>
			<user>pgoldenb</user>
			<password>pgoldenb</password>		
		</connection>
	 	-->
	 	
		<!-- plot type -->
		<template>series_plot.R_tmpl</template>
		
		<!-- independent variable -->
		<indep name="fcst_lead">
			<val label="24">240000</val>
			<val label="48">480000</val>
			<val label="72">720000</val>
			<val label="96">960000</val>
		</indep>

		<!-- series1 variables and values -->
		<series1>
			<field name="model">
				<val>arw-tom-gep0</val>			
				<val>arw-fer-gep1</val>			
				<val>arw-sch-gep2</val>			
				<val>arw-tom-gep3</val>			
				<val>nmm-fer-gep4</val>			
				<val>arw-fer-gep5</val>			
				<val>arw-sch-gep6</val>			
				<val>arw-tom-gep7</val>			
				<val>arw-fer-gep8</val>			
				<val>gfs</val>			
				<val>ens-mean</val>			
			</field>		
		</series1>
		
		<!-- series2 variables and values -->
		<series2>
			<field name="model">
				<val>ens-mean</val>			
			</field>		
		</series2>
		
		<!-- aggregate fields and values		 -->
		
		<agg>
			<field name="vx_mask">
				<val>LAND</val>
				<val>HUC4_1605</val>
				<val>HUC4_1803</val>
				<val>HUC4_1804</val>
				<val>HUC4_1805</val>
				<val>HUC4_1806</val>
				<val>CNRFC</val>
			</field>
			
			<field name="obtype">
				<val>MC_PCP</val>
				<val>ADPSFC</val>
			</field>
			
			<field name="fcst_thresh">
				<val>>0.000</val>
				<val>>=0.254</val>
				<val>>=12.700</val>
				<val>>=127.000</val>
				<val>>=2.540</val>
				<val>>=25.400</val>
				<val>>=76.200</val>
			</field>
			
			<field name="fcst_valid_beg">
				<val>2010-02-08 12:00:00</val>
			</field>
		</agg>
		 		
 		<!-- aggregate fields and values 		
 		<agg>
			<field name="vx_mask">
				<val>LAND</val>
			</field>
			
			<field name="obtype">
				<val>MC_PCP</val>
			</field>
			
			<field name="fcst_thresh">
				<val>>=0.254</val>
			</field>
			
			<field name="fcst_valid_beg">
				<val>2010-02-08 12:00:00</val>
			</field>
		</agg> 		
 		  		 -->
 		  		 
		<!-- templates -->
		<tmpl>
			<val_map name="obtype">
				<pair> <key>MC_PCP</key>  <val>Stage IV</val> </pair>
				<pair> <key>ADPSFC</key>  <val>Gauge</val>    </pair>
			</val_map>
			<val_map name="vx_mask">
				<pair> <key>LAND</key>    <val>FULL</val>     </pair>
			</val_map>
			
			<data_file>{vx_mask}/lead_series_valid/{fcst_valid_beg}V/{obtype}_{dep1_1}_{dep1_1_stat1}_{fcst_thresh?symbol=letters;units=in}.data</data_file>
			<plot_file>{vx_mask}/lead_series_valid/{fcst_valid_beg}V/{obtype}_{dep1_1}_{dep1_1_stat1}_{fcst_thresh?symbol=letters;units=in}.png</plot_file>
			<r_file>{vx_mask}/lead_series_valid/{fcst_valid_beg}V/{obtype}_{dep1_1}_{dep1_1_stat1}_{fcst_thresh?symbol=letters;units=in}.R</r_file>
			<title>EVENT PERFORMANCE for {dep1_1}  {fcst_thresh?units=in}\" {dep1_1_stat1}\nCONSTANT VALID TIME {fcst_valid_beg}V - Region: {vx_mask?map=true} Obs: {obtype?map=true}</title>
			<x_label>FCST_LEAD</x_label>
			<y1_label>{dep1_1_stat1}</y1_label>
			<y2_label>Base Rate (observed event frac.)</y2_label>
		</tmpl>
		
		<!-- plot formatting and options -->
		<grid_on>true</grid_on>

		<!--  <plot_type>png16m</plot_type> -->
		<title_size>1.4</title_size>
		<title_offset>-.4</title_offset>
		 
		<plot_ci>c("norm", "none", "none", "none", "none", "none", "none", "none", "none", "none", "none", "none")</plot_ci>
		<colors>c("#33FF00FF", "#00FF19FF", "#00FF66FF", "#00FFB2FF", "#FF0000FF", "#00FFFFFF", "#00B3FFFF", "#0066FFFF", "#FF4C00FF", "#A6A600FF", "#000000FF", "#EFEFEFFF")</colors>
		<pch>c(19, 19, 19, 19, 19, 19, 19, 19, 19, 19, 19, 19)</pch>
		<type>c("b", "b", "b", "b", "b", "b", "b", "b", "b", "b", "b", "h")</type>
		<lty>c(1, 2, 3, 4, 1, 5, 6, 1, 2, 1, 1, 1)</lty>
		<lwd>c(2, 2, 2, 2, 2, 2, 2, 2, 2, 4, 4, 40)</lwd>
		<y2_lim>c(0,1)</y2_lim>
	</plot>
	
	<!--  CTS stats  -->
	
	<plot name="valid24_FBIAS" inherits="lead_series_24">
		<dep>
			<dep1><fcst_var name="APCP_24"><stat>FBIAS</stat></fcst_var></dep1>
			<dep2><fcst_var name="APCP_24"><stat>BASER</stat></fcst_var></dep2>
			<fix><fcst_var name="APCP_24"><var name="fcst_lev">A24</var></fcst_var></fix>		
		</dep>
		<y1_lim>c(0,5)</y1_lim>
		<plot_cmd>par(usr=listY1Usr); abline(h=1, lty=1, col="#999999FF");</plot_cmd>		
	</plot>

	<plot name="valid24_PODY" inherits="lead_series_24">
		<dep>
			<dep1><fcst_var name="APCP_24"><stat>PODY</stat></fcst_var></dep1>
			<dep2><fcst_var name="APCP_24"><stat>BASER</stat></fcst_var></dep2>
			<fix><fcst_var name="APCP_24"><var name="fcst_lev">A24</var></fcst_var></fix>		
		</dep>
		<y1_lim>c(0,1.2)</y1_lim>
	</plot>

	<plot name="valid24_FAR" inherits="lead_series_24">
		<dep>
			<dep1><fcst_var name="APCP_24"><stat>FAR</stat></fcst_var></dep1>
			<dep2><fcst_var name="APCP_24"><stat>BASER</stat></fcst_var></dep2>
			<fix><fcst_var name="APCP_24"><var name="fcst_lev">A24</var></fcst_var></fix>		
		</dep>
		<y1_lim>c(0,1.2)</y1_lim>
	</plot>
	
	<plot name="valid24_GSS" inherits="lead_series_24">
		<dep>
			<dep1><fcst_var name="APCP_24"><stat>GSS</stat></fcst_var></dep1>
			<dep2><fcst_var name="APCP_24"><stat>BASER</stat></fcst_var></dep2>
			<fix><fcst_var name="APCP_24"><var name="fcst_lev">A24</var></fcst_var></fix>		
		</dep>
		<y1_lim>c(0,1)</y1_lim>
		<tmpl>
			<y1_label>{dep1_1_stat1} (ETS)</y1_label>
		</tmpl>
	</plot>
	
	<plot name="valid24_CSI" inherits="lead_series_24">
		<dep>
			<dep1><fcst_var name="APCP_24"><stat>CSI</stat></fcst_var></dep1>
			<dep2><fcst_var name="APCP_24"><stat>BASER</stat></fcst_var></dep2>
			<fix><fcst_var name="APCP_24"><var name="fcst_lev">A24</var></fcst_var></fix>		
		</dep>
		<y1_lim>c(0,1)</y1_lim>
		<tmpl>
			<y1_label>{dep1_1_stat1} (Threat Score)</y1_label>
		</tmpl>
	</plot>

	<!--  CNT stats  -->
	
	<plot name="lead_series_24_cnt" inherits="lead_series_24" run="false">
		<agg>
			<remove name="fcst_thresh" />
			<field name="fcst_thresh">
				<val>>0.000</val>
			</field>
		</agg>
		 		
		<tmpl>
			<data_file>{vx_mask}/lead_series_valid/{fcst_valid_beg}V/{obtype}_{dep1_1}_{dep1_1_stat1}_gt0.000.data</data_file>
			<plot_file>{vx_mask}/lead_series_valid/{fcst_valid_beg}V/{obtype}_{dep1_1}_{dep1_1_stat1}_gt0.000.png</plot_file>
			<r_file>{vx_mask}/lead_series_valid/{fcst_valid_beg}V/{obtype}_{dep1_1}_{dep1_1_stat1}_gt0.000.R</r_file>
			<title>EVENT PERFORMANCE for {dep1_1}  gt0.000\" {dep1_1_stat1}\nCONSTANT VALID TIME {fcst_valid_beg}V - Region: {vx_mask?map=true} Obs: {obtype?map=true}</title>
			<y1_label>{dep1_1_stat1} (in.)</y1_label>
			<y2_label>Base Rate (observed event frac.) >0.000\"</y2_label>
		</tmpl>
	</plot>

	<plot name="valid24_ME" inherits="lead_series_24_cnt">
		<dep>
			<dep1><fcst_var name="APCP_24"><stat>ME</stat></fcst_var></dep1>
			<dep2><fcst_var name="APCP_24"><stat>BASER</stat></fcst_var></dep2>
			<fix><fcst_var name="APCP_24"><var name="fcst_lev">A24</var></fcst_var></fix>		
		</dep>
		<y1_lim>c(-1,1)</y1_lim>
		<dep1_scale>
			<field name="APCP_24_ME">0.03937</field>
		</dep1_scale>
	</plot>

	<plot name="valid24_RMSE" inherits="lead_series_24_cnt">
		<dep>
			<dep1><fcst_var name="APCP_24"><stat>RMSE</stat></fcst_var></dep1>
			<dep2><fcst_var name="APCP_24"><stat>BASER</stat></fcst_var></dep2>
			<fix><fcst_var name="APCP_24"><var name="fcst_lev">A24</var></fcst_var></fix>		
		</dep>
		<y1_lim>c(0,1)</y1_lim>
		<dep1_scale>
			<field name="APCP_24_RMSE">0.03937</field>
		</dep1_scale>
	</plot>

	<plot name="valid24_MAE" inherits="lead_series_24_cnt">
		<dep>
			<dep1><fcst_var name="APCP_24"><stat>MAE</stat></fcst_var></dep1>
			<dep2><fcst_var name="APCP_24"><stat>BASER</stat></fcst_var></dep2>
			<fix><fcst_var name="APCP_24"><var name="fcst_lev">A24</var></fcst_var></fix>		
		</dep>
		<y1_lim>c(0,1)</y1_lim>
		<dep1_scale>
			<field name="APCP_24_MAE">0.03937</field>
		</dep1_scale>
	</plot>

	
</plot_spec>