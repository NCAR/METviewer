<html>
<head>
  <title>METviewer release page</title>
  <link rel="stylesheet" type="text/css" href="mv_doc.css"/>
  <link rel="shortcut icon" href="include/ral_icon.ico" type="image/x-icon"/>
</head>
<body>

<p class="loc" style="padding-top:10px">
  <b>Location:</b> <a class="loc" href="index.html">Home</a> &#187; Release page
</p>
<hr/>


<h3>Revision History</h3>
<ul>
  <li>2020/03/13 - <b class="tag">mv 3.0</b></li>
  <div>New features:</div>
  <ul>Plot new CTC statistics and TOTAL column from agg stat types</ul>
  <ul>RPS (Ranked Probability Score Statistics) line type is added</ul>
  <ul>MTD columns for MET version 9.0</ul>
  <ul>DMAP line type created by Grid-Stat in MET version 9.0</ul>
  <ul>Support aggregation of the NBRCTC line type to produce the aggregated NBRCTS statistics in the scorecard</ul>
  <ul>Special characters can be included into axis labels</ul>
  <ul>New date picker for UI</ul>
  <ul>Use hidden databases in UI</ul>
  <div>Other fixes and improvements:</div>
  <ul>Dates selection with day light savings inside of the range</ul>
  <ul>Fixed ordering of thresholds in UI</ul>
</ul>


<ul>
  <li>2019/07/09 - <b class="tag">mv 2.11</b></li>
  <div>New scorecard features:</div>
  <ul>Users can put forecast/observed threshold in columns and forecast lead in rows</ul>
  <ul>Users can combine several vx_masks and/or fcst_leads together into one column using ';' as a separator</ul>
  <ul>Users can display values for DIFF and symbols for statistical significance in the table cell using &lt;stat_value&gt; and &lt;stat_symbol&gt;</ul>
  <ul>Users can use multiple time periods</ul>
  <ul>Users can specify left column names using &lt;left_column_names&gt; </ul>
  <ul>Support for multiple databases</ul>
  <ul>Users can change (increase) the size of the symbols by using &lt;symbol_size&gt;</ul>
  <div>Other fixes and improvements:</div>
  <ul>Fixed limits on the length of string values in database</ul>
  <ul>Fixed ordering of thresholds in UI</ul>
  <ul>Fixed Performance diagram XML loading and line types</ul>
  <ul>User legends are available in the Bar plot</ul>
  <ul>Fixed an error during calculating CNT and CNTSUM statistics (Difference option) and for MODE</ul>
  <ul>Users can specify limits for X1 axis using  &lt;x1_lim&gt;</ul>
</ul>


<ul>
  <li>2019/05/03 - <b class="tag">mv 2.10</b></li>
  <div>New features:</div>
  <ul>METviewer is compatible with MET 8.1</ul>
  <ul>New line type for percentile threshold with statistics FCST_PERC and OBS_PERC </ul>
  <ul>Event Equalization logic is available for hist, roc, rely, ens_ss plots</ul>
  <ul>Remove data restrictions for derived curves for spread skill</ul>
</ul>


<ul>
  <li>2018/12/21 - <b class="tag">mv 2.9</b></li>
  <div>New features:</div>
  <ul>In addition to MySQL METviewer is compatible with MariaDB and Aurora databases</ul>
  <ul>In GUI users can specify the custom file name for data, XML and plot files</ul>
  <ul>ECNT statistics can be calculated using aggregation logic</ul>


  <div>Fixes and improvements:</div>
  <ul>Database queries are case sensitive now</ul>
  <ul>There are more restrictions on the derived curves calculations: data uniqueness</ul>
  <ul>Default y2 limits are removed from UI</ul>
  <ul>Colorpicker is fixed</ul>
  <ul>Fixed the series ordering series plots</ul>

</ul>



<ul>
  <li>2018/09/31 - <b class="tag">mv 2.8</b></li>
  <div>New features:</div>
  <ul>Updates to facilitate changes in the database schema introduced by MET 8.0</ul>
</ul>


<ul>
  <li>2018/08/31 - <b class="tag">mv 2.7</b></li>
  <div>New features:</div>
  <ul>Updated database selecting widget on the web page.</ul>
  <ul>New VL1L2_BIAS, VL1L2_RMSVE, VL1L2_MSVE and VAL1L2_ANOM_CORR wind statistics.<br/>
    VL1L2_BIAS = sqrt(d$uvffbar) - sqrt(d$uvoobar)<br/>
    VL1L2_RMSVE = sqrt ( VL1L2_MSVE )<br/>
    VL1L2_MSVE = d$uvffbar - 2.0*d$uvfobar + d$uvoobar<br/>
    VAL1L2_ANOM_CORR = ( uvfo - uf * uo - vf * vo ) / ( sqrt( uvff - uf * uf - vf * vf ) * sqrt(
    uvoo - uo * uo - vo * vo) )
  </ul>

  <div>Fixes and improvements:</div>
  <ul>Fixed EMC method for the scorecard </ul>
</ul>


<ul>
  <li>2018/08/03 - <b class="tag">mv 2.6</b></li>
  <div>New features:</div>
  <ul>Confidence intervals are added to the reliability diagrams.</ul>
  <ul>Revision series values and statistics are available to plot.</ul>
  <ul>Databases are displayed based on groups in GUI</ul>

  <div>Fixes and improvements:</div>
  <ul>SSVAR_Spread statistics is back</ul>
  <ul>obs_var variable is added to lists of variables in UI</ul>
  <ul>X-axis for the PHIST plot type lists the bin values rather than their indices.</ul>
  <ul>“DESC” field is added to independent variables.</ul>
</ul>

<ul>
  <li>2018/05/08 - <b class="tag">mv 2.5</b></li>
  <div>New features:</div>
  <ul>New Contour plot</ul>
  <ul>Colors, symbols, and thresholds can be configurable in the scorecard</ul>
  <ul>Scorecard can display differences, statistics values and p-values</ul>

  <div>Fixes and improvements:</div>
  <ul>The error message will be displayed if the plot's file name length is grater than 255
    characters</ul>
  <ul>The error message will be displayed if the unsupported statistic is requested in the
    scorecard</ul>
  <ul>Event equalisation get performed only on two date/time variables - fcst_lead and
    fcst_valid</ul>
</ul>

<ul>
  <li>2018/03/13 - <b class="tag">mv 2.4</b></li>
  <div>New features:</div>
  <ul>Added Vector statistics for winds </ul>
  <ul>Added a new VCNT line type containing statistics for wind vectors </ul>
  <ul>Added MODE-TD</ul>
  <ul>Removed the derived SSVAR_Spread statistics</ul>
  <ul>Changes to comply with MET 7.0</ul>

  <div>Fixes and improvements:</div>
  <ul>Scorecard now works with different field names at the same level</ul>
  <ul>Rely plot - each curve can have unique line type</ul>
  <ul>interp_pnts field is sorted as integer and not as string</ul>
  <ul>Code improvements and refactoring</ul>
</ul>


<ul>
  <li>2017/12/06 - <b class="tag">mv 2.3</b></li>
  <div>New features:</div>
  <ul>VAL1L2_ANOM_CORR is added to VAL1L2 agg stats.</ul>
  <ul>RMSFA and RMSOA are added to the CNT line type and SAL1L2 agg stats.</ul>
  <ul>Plots can be created using data from multiple databases</ul>
  <ul>New Gradient partial sums (GRAD) line type with stats: FGBAR, OGBAR, MGBAR, EGBAR, S1, S1_OG, FGOG_RATIO  was added.</ul>
  <ul>Neighborhood Continuous Statistics (nbr_cnt) are available in the scorecard.</ul>
  <ul>VSDB ECON line type can be added to METviewer as ECLV</ul>
  <ul>Changes to comply with MET 6.1</ul>

  <div>Fixes and improvements:</div>
  <ul>Plotting multiple series using PCT line type is possible now but only if all series have the same n_thresh</ul>
  <ul>Rely plot - options added to control displaying skill and reference line</ul>
  <ul>ROC curve - a checkbox added to control displaying numbers </ul>
  <ul>User interface defaults to MODE Plot Data if no Stat data is available </ul>
</ul>


<ul>
  <li>2017/10/09 - <b class="tag">mv 2.2</b></li>
  <div>New features:</div>
  <ul>Bootstrapping and CI are available for PCT line type statistics</ul>
  <ul>PCT line type statistics can be used in the scorecard</ul>
  <ul>ECLV (VSDB -> ECON) and RELP line types are available for loading and piloting</ul>
  <ul>FCST_THRESH field for VSDB RELI line type can be loaded to the database</ul>
  <ul>Restriction: All <span class="code">&lt;val&gt;</span> elements should be listed in alphabetical order in XML for the batch mode</ul>
  <div>Fixes and improvements:</div>
  <ul> User interface: Rank, Probability and Relative Histograms are combined into one tab "Hist"</ul>
  <ul> User interface: allow empty strings in "X label" and "Y1 label" fields</ul>
  <ul>Fixed the problem printing Unicode symbols to scorecard image using OpenJDK</ul>
  <ul>PSTD_BSS statistic is renamed to PSTD_BSS_SMPL</ul>
  <ul>Allow embedded "/" in the variable's values in the batch mode</ul>

  <ul>Flag run="false" in batch script works again</ul>
  <ul>New database connection libraries</ul>
</ul>
<ul>
  <li>2017/06/21 - <b class="tag">mv 2.1</b></li>
  <div>New features:</div>
  <ul>New parameter "bootstrap seed" for series and performance plots</ul>
  <ul>Added a plot statistic choice (mean or median) to scorecard</ul>
  <ul>Optional SQL queries output to batch and scorecard mode</ul>
</ul>
<ul>
  <li>2017/05/18 - <b class="tag">mv 2.0</b></li>
  <div>New features:</div>
  <ul>Added a scorecard generation feature</ul>
  <ul>Support for loading PAC field from RMSE line type in VSDB files</ul>
  <div>Fixes and improvements:</div>
  <ul>Fixed the order of series in Rely plot</ul>
</ul>
<ul>
  <li>2017/03/23 - <b class="tag">mv_1_12</b></li>
  <div>New features:</div>
  <ul>SPREAD, ENS_SPREAD,COV_THRESH statistics added to comply with MET 6 output</ul>
  <ul>PST statistic calculation supports multiple series variables</ul>
  <ul>FSS statistic for VSDB output is included</ul>
  <div>Fixes and improvements:</div>
  <ul>ANOM_CORR and PSTD_BSS calculation</ul>
  <ul>XML upload parses "escape" characters correctly</ul>
  <ul>Creation of MODE plots with derive curves</ul>
  <ul>Additional server side series definition validation for MODE</ul>
</ul>
<ul>
  <li>2017/02/08 - <b class="tag">mv_1_11</b></li>
  <ul>Support for loading RELI (PCT) line type from VSDB files to plot both Reliability and ROC diagrams</ul>
  <ul>Insert new and update existing VL1L2 stats</ul>
  <ul>Refine GUI controls and defaults for event equalization</ul>
  <ul>Fixed a bug in ENS_SS Legend</ul>
</ul>
<ul>
  <li>2016/12/06 - <b class="tag">mv_1_10</b></li>
  <ul>Support for loading VAL1L2 , SAL1L2, FSS line types from VSDB files</ul>
  <ul>Add ability to aggregate VL1L2 lines and derive vector statistics</ul>
  <ul>Add user's legend in Ens_ss, Rely, Roc plots</ul>
  <ul>Exclude empty files from the loading process</ul>
  <ul>Add derived BSS sample climatology statistic</ul>
  <ul>New database pruning script ( <a href="database_scrubbing.html">Instructions</a> )</ul>
</ul>
<ul>
  <li>2016/10/27 - <b class="tag">mv_1_9</b></li>
  <ul>New plot - Taylor Diagram</ul>
  <ul>New computation of vector-based statistics (VL1L2) - experimental</ul>
  <ul>More than one derived curves can be displayed on the plot</ul>
  <ul>Fix variables values are included in Event Equalization logic</ul>
  <ul>vsdb RMSE line type can be loaded to the database</ul>
  <ul>Bug fix - force MySQL functions to return 'NA' instead of NULL</ul>
  <ul>Changed the logic of loading HTFR (VSDB) line type</ul>
  <ul>Derived curve can be plotted with selected series grouping</ul>
  <ul>Derived curve can be plotted with selected series grouping</ul>
  <ul>Refactor MySQL functions to return valid tiny results</ul>
  <ul>Loader - ignore &lt;field&gt; elements in &lt;load_val&gt; if they are not in &lt;folder_tmpl&gt; </ul>
  <ul>Do not display a line symbol on the series plot's legend if 'points' selected</ul>
  <ul>Fix for bin labels on PHIST diagram</ul>
  <ul>Fix for integer overflow issue that produced 0 values for aggregation statistics calculation</ul>

  <li>2016/02/26 - <b class="tag">mv_1_5</b></li>
  <ul> Add Performance Diagram.</ul>

  <li>2015/10/28 - <b class="tag">mv_1_4</b></li>
  <ul> Add MPR and ORANK columns to the list of statistics to be plotted by METviewer.</ul>
  <ul> Add "sum" as an option for the "Plot Statistic".</ul>
  <ul> Add new columns for met v5.1.</ul>
  <ul> Use compressed (minify) JavaScript files.</ul>

  <li>2015/03/11 - <b class="tag">mv_1_1</b></li>
  <ul>Add capability to plot more than one series in ensemble relates plots like Reliability, ROC, Ens_SS, Rank Histogram</ul>
  <ul>Add all stats from VSDB files</ul>
  <ul>Remove precision in select queries</ul>

  <li>2014/12/22 - <b class="tag">mv_1_0_1</b></li>
  <ul>Add fields for NBRCTS line type for MET v5.0</ul>
  <ul>Remove BCGSS stat</ul>
  <ul>Insert data from VSDB files</ul>

  <li>2014/09/08 - <b class="tag">mv_1_0</b></li>
  <ul>New user interface (old UI can be accessed by adding metviewer.jsp to the main URL)</ul>
  <ul>Database and source code changes for METv5.0</ul>
  <ul>Added a new output line type to Ensemble-Stat, named PHIST for a probability integral transform histogram</ul>
  <ul>A new parameter "Show Significant" is added to each series. If this parameter is checked (true) the statistically significant CI's would be
    highlighted. (default is FALSE )
  </ul>
  <ul>Bug in the way METviewer is aggregating FSS values is fixed</ul>
  <ul>Testing framework is added to METviewer code base</ul>

  <li>2014/05/19 - <b class="tag">mv_0_5_15</b></li>
  <ul>Grouping functionality is added to the JSP page and the back-end code to define series as named temporal aggregations</ul>
  <ul>"model" parameter is added to the "Independent Variable" list</ul>
  <ul>A scrubber utility for METviewer databases to delete data that meets some user-specified
    selection criteria is available</ul>


  <li>2014/02/06 - <b class="tag">mv_0_5_14</b></li>
  <ul>Implemented y2-axis plotting for box plots</ul>
  <ul>Display the real number of statistics when "Aggregation Statistics" is selected</ul>
  <ul>Added a new parameter and XML tag to prevent the reuse of existing bootstrapping output data: "cache_agg_stat" (default is FALSE - no cache)
  </ul>
  <ul>Allow difference curves only for series with the same Forecast variable and Statistic</ul>
  <ul>Moved listDiffSeries lists to template values in plot XML</ul>
  <ul>Added BCGSS stat</ul>

  <li>2013/12/26 - <b class="tag">mv_0_5_13</b></li>
  <ul>Create formatted XML</ul>
  <ul>Added finer control over how to define differences series</ul>
  <ul>Allow the user to specify the order that series occur on the plot</ul>
  <ul>Use function "boxplot_ci" that supports the specification of a confidence level for the notches instead of standard "boxplot" .</ul>
  <ul>Added ability to plot normalized rank histograms .</ul>
  <ul>Display an error message if the aggregation type isn't compatible with the statistic.</ul>
  <ul>Inforce using Event Equalizer when at least one difference series is selected.</ul>
  <ul>Don't allow to define and add a difference curve for MODE "Attribute Stats"</ul>
  <ul>Display N/A in the Forecast variable drop down select menu if the database does not have Forecast variable(s) for the selected plot data type
  </ul>

  <li>2013/10/15 - <b class="tag">mv_0_5_12</b></li>
  <ul>Implemented y2-axis plotting for vertical level plots</ul>
  <ul>Implemented num_stats feature for box plots</ul>
  <ul>Implemented agg_stat calculation and bootstraping CIs for MODE statistics</ul>
  <ul>Fixed a bug in the calculation of HSS</ul>
  <ul>Fixed the selection of the second fixed value for the histogram</ul>
  <ul>Applied the equalization logic to the y1 and y2 axises</ul>
  <ul>Changed the default value for box_notch to TRUE.</ul>
  <ul>Daily clean up of output directories</ul>

  <li>2013/08/19 - <b class="tag">mv_0_5_11</b></li>
  <ul>Include only databases with the name that starts with "mv_" to be displayed with web app.</ul>
  <ul>"met_version" tag in the load spec file is not needed any more. The version number will be extracted from the data file.</ul>
  <ul>warning messages for 'stat_header' during grid_stat data loading are removed.</ul>
  <ul>Added FCST_VAR as a option to select for Y1 Axis in ens_ss template</ul>
  <ul>use the connection pool instead of the single connection during data loading process(allows simultaneous loads)</ul>
  <ul>process "-nan" values as missing values during data loading process</ul>
  <ul>Added a button to the main JSP page that updates the list of available databases (do not need to restart Tomcat after adding a new database)
  </ul>
  <ul>removed unnecessary DATE_FORMAT function from sql queries</ul>
  <ul>replace ld.obar_ncl and ld.obar_ncu -9999 values with 'NA' during creating data file for R script</ul>

  <li>2013/06/18 - <b class="tag">mv_0_5_10</b></li>
  <ul>Read a list of available databases from MySql instead of the parameters file</ul>
  <ul>Added switch the variance inflation factor when computing standard errors for means and medians</ul>
  <ul>Added "stat_header_db_check" that will indicate whether a database query check for stat header information should be performed.</ul>


  <li>2013/05/22 - <b class="tag">mv_0_5_9</b></li>
  <ul>Use BoneCP connection pool for the web app</ul>
  <ul>Added switch the variance inflation factor when computing standard errors for means and medians</ul>

  <li>2013/05/14 - <b class="tag">mv_0_5_8</b></li>
  <ul>Modified logic in Compute_STDerr_from_mean() when computing the variance inflation factor</ul>
  <ul>Removed the variance inflation factor from Compute_STDerr_from_median() since it does not apply</ul>
  <ul>Added more statistics and functionality to record the value for 'alpha' field in database for SSVAR for MET v4.1</ul>
  <ul>Use Java 1.7</ul>

  <li>2012/02/14 - <b class="tag">mv_0_5_5</b></li>
  <ul>Implemented aggregated NBR statistics from NBR_CNT data</ul>

  <li>2011/09/29 - <b class="tag">mv_0_5_4</b></li>
  <ul>Implemented aggregated Reliability diagrams from PCT data</ul>

  <li>2011/09/23 - <b class="tag">mv_0_5_3</b></li>
  <ul>Implemented aggregation of PSTD stats from PCT data</ul>

  <li>2011/07/28 - <b class="tag">mv_0_5_2</b></li>
  <ul>Implemented aggregated ROC plots using PCT and CTC data</ul>

  <li>2011/07/22 - <b class="tag">mv_0_5_1</b></li>
  <ul>Removed load xml flags for stat_header_id db/table checks</ul>
  <ul>Added web app functionality to update default plot formatting for date series and vert plots</ul>
  <ul>Added loader functionality to enable/disable loading of stat data, mode data and matched pair data</ul>
  <ul>Implemented &lt;calc_stat&gt; functionality</ul>
  <ul>Added loader functionality to enable/disable loading of orank data</ul>
  <ul>Added plot_disp functionality to toggle visibility of series</ul>
  <ul>Added y2-axis features for series plots: indy_stag, plot_diff, dump_points, log</ul>
  <ul>Added functionality for adding notes and load XML to the instance_info table, and a web app for management</ul>
  <ul>Added controls for axis value label font size</ul>
  <ul>Added functionality to sort init_hour and valid_hour values in the web app</ul>
  <ul>XML plot specification upload functionality implemented</ul>


</ul>


</body>
</html>
