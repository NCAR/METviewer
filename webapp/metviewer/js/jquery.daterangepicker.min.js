(function(g){"function"===typeof define&&define.amd?define(["jquery","moment"],g):"object"===typeof exports&&"undefined"!==typeof module?module.exports=g(require("jquery"),require("moment")):g(jQuery,moment)})(function(g,e){g.dateRangePickerLanguages={"default":{selected:"Selected:",day:"Day",days:"Days",apply:"Close","week-1":"mo","week-2":"tu","week-3":"we","week-4":"th","week-5":"fr","week-6":"sa","week-7":"su","week-number":"W","month-name":"january february march april may june july august september october november december".split(" "),
shortcuts:"Shortcuts","custom-values":"Custom Values",past:"Past",following:"Following",previous:"Previous","prev-week":"Week","prev-month":"Month","prev-year":"Year",next:"Next","next-week":"Week","next-month":"Month","next-year":"Year","less-than":"Date range should not be more than %d days","more-than":"Date range should not be less than %d days","default-more":"Please select a date range longer than %d days","default-single":"Please select a date","default-less":"Please select a date range less than %d days",
"default-range":"Please select a date range between %d and %d days","default-default":"Please select a date range",time:"Time",hour:"Hour",minute:"Minute"}};g.fn.dateRangePicker=function(a){function E(){a.inline||d.css({top:"50%",left:"50%","margin-top":"-190px","margin-left":"-226px"})}function K(b){S();L();a.customOpenAnimation?a.customOpenAnimation.call(d.get(0),function(){g(l).trigger("datepicker-opened",{relatedTarget:d})}):d.slideDown(b,function(){g(l).trigger("datepicker-opened",{relatedTarget:d})});
g(l).trigger("datepicker-open",{relatedTarget:d});v();T();E()}function L(){var b=a.getValue.call(C);if((b=b?b.split(a.separator):"")&&(1==b.length&&a.singleDate||2<=b.length)){var c=a.format;c.match(/Do/)&&(c=c.replace(/Do/,"D"),b[0]=b[0].replace(/(\d+)(th|nd|st)/,"$1"),2<=b.length&&(b[1]=b[1].replace(/(\d+)(th|nd|st)/,"$1")));x=!1;2<=b.length?F(M(b[0],c,e.locale(a.language)),M(b[1],c,e.locale(a.language))):1==b.length&&a.singleDate&&U(M(b[0],c,e.locale(a.language)));x=!0}}function M(a,c,d){return e(a,
c,d).isValid()?e(a,c,d).toDate():e().toDate()}function T(){var a=d.find(".gap").css("margin-left");a&&(a=parseInt(a));var c=d.find(".month1").width();a=d.find(".gap").width()+(a?2*a:0);var e=d.find(".month2").width();d.find(".month-wrapper").width(c+a+e)}function B(a,c){d.find("."+a+" input[type=range].hour-range").val(e(c).hours());d.find("."+a+" input[type=range].minute-range").val(e(c).minutes());O(a,e(c).format("HH"),e(c).format("mm"))}function P(b,c){a[b]=parseInt(e(parseInt(c)).startOf("day").add(e(a[b+
"Time"]).format("HH"),"h").add(e(a[b+"Time"]).format("mm"),"m").valueOf())}function O(b,c,N){function f(b,f){var m=f.format("HH"),e=f.format("mm");a[b]=f.startOf("day").add(c||m,"h").add(N||e,"m").valueOf()}c&&d.find("."+b+" .hour-val").text(c);N&&d.find("."+b+" .minute-val").text(N);switch(b){case "time1":a.start&&f("start",e(a.start));f("startTime",e(a.startTime||e().valueOf()));break;case "time2":a.end&&f("end",e(a.end)),f("endTime",e(a.endTime||e().valueOf()))}y();z();w()}function W(b){var c=
b;"week-range"===a.batchMode?c="monday"===a.startOfWeek?e(parseInt(b)).startOf("isoweek").valueOf():e(parseInt(b)).startOf("week").valueOf():"month-range"===a.batchMode&&(c=e(parseInt(b)).startOf("month").valueOf());return c}function X(b){var c=b;"week-range"===a.batchMode?c="monday"===a.startOfWeek?e(parseInt(b)).endOf("isoweek").valueOf():e(parseInt(b)).endOf("week").valueOf():"month-range"===a.batchMode&&(c=e(parseInt(b)).endOf("month").valueOf());return c}function Q(b){b=parseInt(b,10);if(a.startDate&&
0>p(b,a.startDate)||a.endDate&&0<p(b,a.endDate))return!1;if(a.start&&!a.end&&!a.singleDate){if(0<a.maxDays&&D(b,a.start)>a.maxDays||0<a.minDays&&D(b,a.start)<a.minDays||a.selectForward&&b<a.start||a.selectBackward&&b>a.start)return!1;if(a.beforeShowDay&&"function"==typeof a.beforeShowDay){for(var c=!0;1<D(b,a.start);){if(!a.beforeShowDay(new Date(b))[0]){c=!1;break}if(864E5>Math.abs(b-a.start))break;b>a.start&&(b-=864E5);b<a.start&&(b+=864E5)}if(!c)return!1}}return!0}function R(){d.find(".day.invalid.tmp").removeClass("tmp invalid").addClass("valid");
a.start&&!a.end&&d.find(".day.toMonth.valid").each(function(){var a=parseInt(g(this).attr("time"),10);Q(a)?g(this).addClass("valid tmp").removeClass("invalid"):g(this).addClass("invalid tmp").removeClass("valid")});return!0}function Y(b){var c=parseInt(b.attr("time")),e="";if(b.hasClass("has-tooltip")&&b.attr("data-tooltip"))e='<span class="tooltip-content">'+b.attr("data-tooltip")+"</span>";else if(!b.hasClass("invalid"))if(a.singleDate)d.find(".day.hovering").removeClass("hovering"),b.addClass("hovering");
else if(d.find(".day").each(function(){var b=parseInt(g(this).attr("time"));b==c?g(this).addClass("hovering"):g(this).removeClass("hovering");a.start&&!a.end&&(a.start<b&&c>=b||a.start>b&&c<=b)?g(this).addClass("hovering"):g(this).removeClass("hovering")}),a.start&&!a.end){var f=D(c,a.start);a.hoveringTooltip&&("function"==typeof a.hoveringTooltip?e=a.hoveringTooltip(f,a.start,c):!0===a.hoveringTooltip&&1<f&&(e=f+" "+h("days")))}if(e){f=b.offset();var m=d.offset(),n=f.left-m.left,V=f.top-m.top;n+=
b.width()/2;var k=d.find(".date-range-length-tip");b=k.css({visibility:"hidden",display:"none"}).html(e).width();e=k.height();n-=b/2;V-=e;setTimeout(function(){k.css({left:n,top:V,display:"block",visibility:"visible"})},10)}else d.find(".date-range-length-tip").hide()}function Z(){d.find(".day.hovering").removeClass("hovering");d.find(".date-range-length-tip").hide()}function aa(b){var c=b.val(),d=b.attr("name");b=b.parents("table").hasClass("month1")?"month1":"month2";var f="month1"===b?"month2":
"month1",m=a.startDate?e(a.startDate):!1,g=a.endDate?e(a.endDate):!1;c=e(a[b])[d](c);m&&c.isSameOrBefore(m)&&(c=m.add("month2"===b?1:0,"month"));g&&c.isSameOrAfter(g)&&(c=g.add(a.singleMonth||"month1"!==b?0:-1,"month"));k(c,b);"month1"===b?(a.stickyMonths||e(c).isSameOrAfter(a[f],"month"))&&k(e(c).add(1,"month"),f):(a.stickyMonths||e(c).isSameOrBefore(a[f],"month"))&&k(e(c).add(-1,"month"),f);v()}function G(){!0===a.singleDate?x&&a.start&&a.autoClose&&A():x&&a.start&&a.end&&a.autoClose&&A()}function y(){var b=
Math.ceil((a.end-a.start)/864E5)+1;a.singleDate?a.start&&!a.end?d.find(".drp_top-bar").removeClass("error").addClass("normal"):d.find(".drp_top-bar").removeClass("error").removeClass("normal"):a.maxDays&&b>a.maxDays?(a.start=!1,a.end=!1,d.find(".day").removeClass("checked"),d.find(".drp_top-bar").removeClass("normal").addClass("error").find(".error-top").html(h("less-than").replace("%d",a.maxDays))):a.minDays&&b<a.minDays?(a.start=!1,a.end=!1,d.find(".day").removeClass("checked"),d.find(".drp_top-bar").removeClass("normal").addClass("error").find(".error-top").html(h("more-than").replace("%d",
a.minDays))):a.start||a.end?d.find(".drp_top-bar").removeClass("error").addClass("normal"):d.find(".drp_top-bar").removeClass("error").removeClass("normal");a.singleDate&&a.start&&!a.end||!a.singleDate&&a.start&&a.end?d.find(".apply-btn").removeClass("disabled"):d.find(".apply-btn").addClass("disabled");a.batchMode&&(a.start&&a.startDate&&0>p(a.start,a.startDate)||a.end&&a.endDate&&0<p(a.end,a.endDate))&&(a.start=!1,a.end=!1,d.find(".day").removeClass("checked"))}function z(b,c){d.find(".start-day").html("...");
d.find(".end-day").html("...");d.find(".selected-days").hide();a.start&&d.find(".start-day").html(t(new Date(parseInt(a.start))));a.end&&d.find(".end-day").html(t(new Date(parseInt(a.end))));a.start&&a.singleDate?(d.find(".apply-btn").removeClass("disabled"),b=t(new Date(a.start)),a.setValue.call(C,b,t(new Date(a.start)),t(new Date(a.end))),x&&!c&&g(l).trigger("datepicker-change",{value:b,date1:new Date(a.start)})):a.start&&a.end?(d.find(".selected-days").show().find(".selected-days-num").html(D(a.end,
a.start)),d.find(".apply-btn").removeClass("disabled"),b=t(new Date(a.start))+a.separator+t(new Date(a.end)),a.setValue.call(C,b,t(new Date(a.start)),t(new Date(a.end))),x&&!c&&g(l).trigger("datepicker-change",{value:b,date1:new Date(a.start),date2:new Date(a.end)})):b?d.find(".apply-btn").removeClass("disabled"):d.find(".apply-btn").addClass("disabled")}function D(a,c){return Math.abs(e(a).diff(e(c),"d"))+1}function F(b,c,e){if(b.getTime()>c.getTime()){var f=c;c=b;b=f}f=!0;a.startDate&&0>p(b,a.startDate)&&
(f=!1);a.endDate&&0<p(c,a.endDate)&&(f=!1);if(f){a.start=b.getTime();a.end=c.getTime();a.time.enabled&&(B("time1",b),B("time2",c));if(a.stickyMonths||0<p(b,c)&&0===q(b,c))a.lookBehind?b=u(c):c=r(b);a.stickyMonths&&!1!==a.endDate&&0<q(c,a.endDate)&&(b=u(b),c=u(c));a.stickyMonths||0===q(b,c)&&(a.lookBehind?b=u(c):c=r(b));k(b,"month1");k(c,"month2");v();y();z(!1,e);G()}else k(a.startDate,"month1"),k(r(a.startDate),"month2"),v()}function U(b){var c=!0;a.startDate&&0>p(b,a.startDate)&&(c=!1);a.endDate&&
0<p(b,a.endDate)&&(c=!1);c?(a.start=b.getTime(),a.time.enabled&&B("time1",b),k(b,"month1"),!0!==a.singleMonth&&(b=r(b),k(b,"month2")),v(),z(),G()):k(a.startDate,"month1")}function w(){if(a.start||a.end)d.find(".day").each(function(){var b=parseInt(g(this).attr("time")),c=a.start,d=a.end;a.time.enabled&&(b=e(b).startOf("day").valueOf(),c=e(c||e().valueOf()).startOf("day").valueOf(),d=e(d||e().valueOf()).startOf("day").valueOf());a.start&&a.end&&d>=b&&c<=b||a.start&&!a.end&&e(c).format("YYYY-MM-DD")==
e(b).format("YYYY-MM-DD")?g(this).addClass("checked"):g(this).removeClass("checked");a.start&&e(c).format("YYYY-MM-DD")==e(b).format("YYYY-MM-DD")?g(this).addClass("first-date-selected"):g(this).removeClass("first-date-selected");a.end&&e(d).format("YYYY-MM-DD")==e(b).format("YYYY-MM-DD")?g(this).addClass("last-date-selected"):g(this).removeClass("last-date-selected")}),d.find(".week-number").each(function(){g(this).attr("data-start-time")==a.startWeek&&g(this).addClass("week-number-selected")})}
function k(b,c){b=e(b).toDate();var g=la(b,c);var f=e(b);f=f.get("year");var m='<div class="month-element">'+f+"</div>";if(a.yearSelect){var n=a.yearSelect&&"function"===typeof a.yearSelect,h=a.startDate?e(a.startDate).add(a.singleMonth||"month2"!==c?0:1,"month"):!1,k=a.endDate?e(a.endDate).add(a.singleMonth||"month1"!==c?0:-1,"month"):!1;n=n?a.yearSelect(f):a.yearSelect.slice();h=h?Math.max(n[0],h.get("year")):Math.min(n[0],f);k=k?Math.min(n[1],k.get("year")):Math.max(n[1],f);n=Math.min(h,f);var l=
Math.max(k,f);n===l?f=m:(f=ba({minSelectable:h,maxSelectable:k,minVisible:n,maxVisible:l},f),f=ca("year",f))}else f=m;d.find("."+c+" .month-name").html(g+" "+f);d.find("."+c+" tbody").html(ma(b));a[c]=b;R();na()}function la(b,c){b=e(b);var d=b.get("month"),f='<div class="month-element">'+da(d)+"</div>";if(!a.monthSelect)return f;var m=a.startDate?e(a.startDate).add(a.singleMonth||"month2"!==c?0:1,"month"):!1;c=a.endDate?e(a.endDate).add(a.singleMonth||"month1"!==c?0:-1,"month"):!1;m=m&&b.isSame(m,
"year")?m.get("month"):0;b=c&&b.isSame(c,"year")?c.get("month"):11;c=Math.min(m,d);var g=Math.max(b,d);if(c===g)return f;d=ba({minSelectable:m,maxSelectable:b,minVisible:c,maxVisible:g},d,function(a){return da(a)});return ca("month",d)}function ba(a,c,e){var b=[];e=e||function(a){return a};for(var d=a.minVisible;d<=a.maxVisible;d++)b.push({value:d,text:e(d),selected:d===c,disabled:d<a.minSelectable||d>a.maxSelectable});return b}function ca(a,c){a='<div class="select-wrapper"><select class="'+a+'" name="'+
a+'">';for(var b,f=0,d=c.length;f<d;f++){var e=c[f];a+='<option value="'+e.value+'"'+(e.selected?" selected":"")+(e.disabled?" disabled":"")+">"+e.text+"</option>";e.selected&&(b=e.text)}return a+("</select>"+b+"</div>")}function na(){d.find(".day").off("click").click(function(b){b=g(this);if(!b.hasClass("invalid")){var c=b.attr("time");b.addClass("checked");a.singleDate?(a.start=c,a.end=!1):"week"===a.batchMode?"monday"===a.startOfWeek?(a.start=e(parseInt(c)).startOf("isoweek").valueOf(),a.end=e(parseInt(c)).endOf("isoweek").valueOf()):
(a.end=e(parseInt(c)).endOf("week").valueOf(),a.start=e(parseInt(c)).startOf("week").valueOf()):"workweek"===a.batchMode?(a.start=e(parseInt(c)).day(1).valueOf(),a.end=e(parseInt(c)).day(5).valueOf()):"weekend"===a.batchMode?(a.start=e(parseInt(c)).day(6).valueOf(),a.end=e(parseInt(c)).day(7).valueOf()):"month"===a.batchMode?(a.start=e(parseInt(c)).startOf("month").valueOf(),a.end=e(parseInt(c)).endOf("month").valueOf()):a.start&&a.end||!a.start&&!a.end?(a.start=W(c),a.end=!1):a.start&&(a.end=X(c),
a.time.enabled&&P("end",a.end));a.time.enabled&&(a.start&&P("start",a.start),a.end&&P("end",a.end));if(!a.singleDate&&a.start&&a.end&&a.start>a.end){var d=a.end;a.end=X(a.start);a.start=W(d);a.time.enabled&&a.swapTime&&(B("time1",a.start),B("time2",a.end))}a.start=parseInt(a.start);a.end=parseInt(a.end);Z();a.start&&!a.end&&(g(l).trigger("datepicker-first-date-selected",{date1:new Date(a.start)}),Y(b));R(c);y();z();w();G()}});d.find(".day").off("mouseenter").mouseenter(function(a){Y(g(this))});d.find(".day").off("mouseleave").mouseleave(function(b){d.find(".date-range-length-tip").hide();
a.singleDate&&Z()});d.find(".week-number").off("click").click(function(b){var c=g(this);b=parseInt(c.attr("data-start-time"),10);a.startWeek?(d.find(".week-number-selected").removeClass("week-number-selected"),c=new Date(b<a.startWeek?b:a.startWeek),b=new Date(b<a.startWeek?a.startWeek:b),a.startWeek=!1,a.start=e(c).day("monday"==a.startOfWeek?1:0).valueOf(),a.end=e(b).day("monday"==a.startOfWeek?7:6).valueOf()):(a.startWeek=b,c.addClass("week-number-selected"),c=new Date(b),a.start=e(c).day("monday"==
a.startOfWeek?1:0).valueOf(),a.end=e(c).day("monday"==a.startOfWeek?7:6).valueOf());R();y();z();w();G()});d.find(".month").off("change").change(function(a){aa(g(this))});d.find(".year").off("change").change(function(a){aa(g(this))})}function H(a,c){d.find("."+c).append("<div><span>"+h("Time")+': <span class="hour-val">00</span>:<span class="minute-val">00</span></span></div><div class="hour"><label>'+h("Hour")+': <input type="range" class="hour-range" name="hour" min="0" max="23"></label></div><div class="minute"><label>'+
h("Minute")+': <input type="range" class="minute-range" name="minute" min="0" max="59"></label></div>');B(c,a)}function da(a){return h("month-name")[a]}function t(b){return e(b).format(a.format)}function v(){w();var b=parseInt(e(a.month1).format("YYYYMM")),c=parseInt(e(a.month2).format("YYYYMM"));b=Math.abs(b-c);1<b&&89!=b?d.addClass("has-gap").removeClass("no-gap").find(".gap").css("visibility","visible"):d.removeClass("has-gap").addClass("no-gap").find(".gap").css("visibility","hidden");b=d.find("table.month1").height();
c=d.find("table.month2").height();d.find(".gap").height(Math.max(b,c)+10)}function A(){if(!a.alwaysOpen){var b=function(){g(l).data("date-picker-opened",!1);g(l).trigger("datepicker-closed",{relatedTarget:d})};a.customCloseAnimation?a.customCloseAnimation.call(d.get(0),b):g(d).slideUp(a.duration,b);g(l).trigger("datepicker-close",{relatedTarget:d})}}function S(){k(a.month1,"month1");k(a.month2,"month2")}function q(a,c){a=parseInt(e(a).format("YYYYMM"))-parseInt(e(c).format("YYYYMM"));return 0<a?1:
0===a?0:-1}function p(a,c){a=parseInt(e(a).format("YYYYMMDD"))-parseInt(e(c).format("YYYYMMDD"));return 0<a?1:0===a?0:-1}function r(a){return e(a).add(1,"months").toDate()}function u(a){return e(a).add(-1,"months").toDate()}function oa(){var b='<div class="date-picker-wrapper';a.extraClass&&(b+=" "+a.extraClass+" ");a.singleDate&&(b+=" single-date ");a.showShortcuts||(b+=" no-shortcuts ");a.showTopbar||(b+=" no-topbar ");a.customTopBar&&(b+=" custom-topbar ");b+='">';if(a.showTopbar){b+='<div class="drp_top-bar">';
a.customTopBar?("function"==typeof a.customTopBar&&(a.customTopBar=a.customTopBar()),b+='<div class="custom-top">'+a.customTopBar+"</div>"):(b+='<div class="normal-top"><span class="selection-top">'+h("selected")+' </span> <b class="start-day">...</b>',a.singleDate||(b+=' <span class="separator-day">'+a.separator+'</span> <b class="end-day">...</b> <i class="selected-days">(<span class="selected-days-num">3</span> '+h("days")+")</i>"),b+='</div><div class="error-top">error</div><div class="default-top">default</div>');
var c="";!0===a.autoClose&&(c+=" hide");""!==a.applyBtnClass&&(c+=" "+a.applyBtnClass);b+='<input type="button" class="apply-btn disabled'+c+'" value="'+h("apply")+'" />';b+="</div>"}c=a.showWeekNumbers?6:5;var d="&lt;";a.customArrowPrevSymbol&&(d=a.customArrowPrevSymbol);var f="&gt;";a.customArrowNextSymbol&&(f=a.customArrowNextSymbol);b+='<div class="month-wrapper">   <table class="month1" cellspacing="0" border="0" cellpadding="0">       <thead>           <tr class="caption">               <th>                   <span class="prev">'+
d+'                   </span>               </th>               <th colspan="'+c+'" class="month-name">               </th>               <th>'+(a.singleDate||!a.stickyMonths?'<span class="next">'+f+"</span>":"")+'               </th>           </tr>           <tr class="week-name">'+ea()+"       </thead>       <tbody></tbody>   </table>";if(!a.singleMonth){var e=['<div class="gap-top-mask"></div><div class="gap-bottom-mask"></div><div class="gap-lines">'];for(var n=0;20>n;n++)e.push('<div class="gap-line"><div class="gap-1"></div><div class="gap-2"></div><div class="gap-3"></div></div>');
e.push("</div>");e=e.join("");b+='<div class="gap">'+e+'</div><table class="month2" cellspacing="0" border="0" cellpadding="0">   <thead>   <tr class="caption">       <th>'+(a.stickyMonths?"":'<span class="prev">'+d+"</span>")+'       </th>       <th colspan="'+c+'" class="month-name">       </th>       <th>           <span class="next">'+f+'</span>       </th>   </tr>   <tr class="week-name">'+ea()+"   </thead>   <tbody></tbody></table>"}b+='<div class="dp-clearfix"></div><div class="time"><div class="time1"></div>';
a.singleDate||(b+='<div class="time2"></div>');b+='</div><div class="dp-clearfix"></div></div><div class="footer">';if(a.showShortcuts){b+='<div class="shortcuts"><b>'+h("shortcuts")+"</b>";if(d=a.shortcuts){if(d["prev-days"]&&0<d["prev-days"].length){b+='&nbsp;<span class="prev-days">'+h("past");for(c=0;c<d["prev-days"].length;c++)f=d["prev-days"][c],f+=1<d["prev-days"][c]?h("days"):h("day"),b+=' <a href="javascript:;" shortcut="day,-'+d["prev-days"][c]+'">'+f+"</a>";b+="</span>"}if(d["next-days"]&&
0<d["next-days"].length){b+='&nbsp;<span class="next-days">'+h("following");for(c=0;c<d["next-days"].length;c++)f=d["next-days"][c],f+=1<d["next-days"][c]?h("days"):h("day"),b+=' <a href="javascript:;" shortcut="day,'+d["next-days"][c]+'">'+f+"</a>";b+="</span>"}if(d.prev&&0<d.prev.length){b+='&nbsp;<span class="prev-buttons">'+h("previous");for(c=0;c<d.prev.length;c++)f=h("prev-"+d.prev[c]),b+=' <a href="javascript:;" shortcut="prev,'+d.prev[c]+'">'+f+"</a>";b+="</span>"}if(d.next&&0<d.next.length){b+=
'&nbsp;<span class="next-buttons">'+h("next");for(c=0;c<d.next.length;c++)f=h("next-"+d.next[c]),b+=' <a href="javascript:;" shortcut="next,'+d.next[c]+'">'+f+"</a>";b+="</span>"}}if(a.customShortcuts)for(c=0;c<a.customShortcuts.length;c++)b+='&nbsp;<span class="custom-shortcut"><a href="javascript:;" shortcut="custom">'+a.customShortcuts[c].name+"</a></span>";b+="</div>"}if(a.showCustomValues&&(b+='<div class="customValues"><b>'+(a.customValueLabel||h("custom-values"))+"</b>",a.customValues))for(c=
0;c<a.customValues.length;c++)d=a.customValues[c],b+='&nbsp;<span class="custom-value"><a href="javascript:;" custom="'+d.value+'">'+d.name+"</a></span>";return g(b+"</div></div>")}function ea(){var b=a.showWeekNumbers?"<th>"+h("week-number")+"</th>":"";return"monday"==a.startOfWeek?b+"<th>"+h("week-1")+"</th><th>"+h("week-2")+"</th><th>"+h("week-3")+"</th><th>"+h("week-4")+"</th><th>"+h("week-5")+"</th><th>"+h("week-6")+"</th><th>"+h("week-7")+"</th>":b+"<th>"+h("week-7")+"</th><th>"+h("week-1")+
"</th><th>"+h("week-2")+"</th><th>"+h("week-3")+"</th><th>"+h("week-4")+"</th><th>"+h("week-5")+"</th><th>"+h("week-6")+"</th>"}function I(b){b=e(b);return a.startDate&&b.endOf("month").isBefore(a.startDate)||a.endDate&&b.startOf("month").isAfter(a.endDate)?!0:!1}function fa(a,c,d){var b=g.extend(!0,{},a);g.each(c,function(a,c){a=c(d);for(var f in a)b.hasOwnProperty(f)?b[f]+=a[f]:b[f]=a[f]});a="";for(var e in b)b.hasOwnProperty(e)&&(a+=e+'="'+b[e]+'" ');return a}function ma(b){var c=[];b.setDate(1);
b.getTime();var d=new Date,f=b.getDay();0===f&&"monday"===a.startOfWeek&&(f=7);if(0<f)for(var g=f;0<g;g--){var h=new Date(b.getTime()-864E5*g);var k=Q(h.getTime());a.startDate&&0>p(h,a.startDate)&&(k=!1);a.endDate&&0<p(h,a.endDate)&&(k=!1);c.push({date:h,type:"lastMonth",day:h.getDate(),time:h.getTime(),valid:k})}h=b.getMonth();for(g=0;40>g;g++)f=e(b).add(g,"days").toDate(),k=Q(f.getTime()),a.startDate&&0>p(f,a.startDate)&&(k=!1),a.endDate&&0<p(f,a.endDate)&&(k=!1),c.push({date:f,type:f.getMonth()==
h?"toMonth":"nextMonth",day:f.getDate(),time:f.getTime(),valid:k});b=[];for(k=0;6>k&&"nextMonth"!=c[7*k].type;k++){b.push("<tr>");for(h=0;7>h;h++){f=c[7*k+("monday"==a.startOfWeek?h+1:h)];g=e(f.time).format("L")==e(d).format("L");f.extraClass="";f.tooltip="";if(f.valid&&a.beforeShowDay&&"function"==typeof a.beforeShowDay){var l=a.beforeShowDay(e(f.time).toDate());f.valid=l[0];f.extraClass=l[1]||"";f.tooltip=l[2]||"";""!==f.tooltip&&(f.extraClass+=" has-tooltip ")}g={time:f.time,"data-tooltip":f.tooltip,
"class":"day "+f.type+" "+f.extraClass+" "+(f.valid?"valid":"invalid")+" "+(g?"real-today":"")};0===h&&a.showWeekNumbers&&b.push('<td><div class="week-number" data-start-time="'+f.time+'">'+a.getWeekNumber(f.date)+"</div></td>");b.push("<td "+fa({},a.dayTdAttrs,f)+"><div "+fa(g,a.dayDivAttrs,f)+">"+pa(f.time,f.day)+"</div></td>")}b.push("</tr>")}return b.join("")}function pa(b,c){return a.showDateFilter&&"function"==typeof a.showDateFilter?a.showDateFilter(b,c):c}function h(a){var b=a.toLowerCase(),
d=a in J?J[a]:b in J?J[b]:null,f=g.dateRangePickerLanguages["default"];null==d&&(d=a in f?f[a]:b in f?f[b]:"");return d}function ha(){var b=a.defaultTime?a.defaultTime:new Date;a.lookBehind?(a.startDate&&0>q(b,a.startDate)&&(b=r(e(a.startDate).toDate())),a.endDate&&0<q(b,a.endDate)&&(b=e(a.endDate).toDate())):(a.startDate&&0>q(b,a.startDate)&&(b=e(a.startDate).toDate()),a.endDate&&0<q(r(b),a.endDate)&&(b=u(e(a.endDate).toDate())));a.singleDate&&(a.startDate&&0>q(b,a.startDate)&&(b=e(a.startDate).toDate()),
a.endDate&&0<q(b,a.endDate)&&(b=e(a.endDate).toDate()));return b}function ia(b){b||(b=ha());a.lookBehind?(k(u(b),"month1"),k(b,"month2")):(k(b,"month1"),k(r(b),"month2"));a.singleDate&&k(b,"month1");w();v()}function ja(a){var b=l[0];b.contains(a.target)||a.target==b||void 0!=b.childNodes&&0<=g.inArray(a.target,b.childNodes)||d.is(":visible")&&A()}a||(a={});a=g.extend(!0,{autoClose:!1,format:"YYYY-MM-DD",separator:" to ",language:"auto",startOfWeek:"sunday",getValue:function(){return g(this).val()},
setValue:function(a){g(this).attr("readonly")||g(this).is(":disabled")||a==g(this).val()||g(this).val(a)},startDate:!1,endDate:!1,time:{enabled:!1},minDays:0,maxDays:0,showShortcuts:!1,shortcuts:{},customShortcuts:[],inline:!1,container:"body",alwaysOpen:!1,singleDate:!1,lookBehind:!1,batchMode:!1,duration:200,stickyMonths:!1,dayDivAttrs:[],dayTdAttrs:[],selectForward:!1,selectBackward:!1,applyBtnClass:"",singleMonth:"auto",hoveringTooltip:function(a,c,d){return 1<a?a+" "+h("days"):""},showTopbar:!0,
swapTime:!1,showWeekNumbers:!1,getWeekNumber:function(a){return e(a).format("w")},customOpenAnimation:null,customCloseAnimation:null,customArrowPrevSymbol:null,customArrowNextSymbol:null,monthSelect:!1,yearSelect:!1},a);a.start=!1;a.end=!1;a.startWeek=!1;a.isTouchDevice="ontouchstart"in window||navigator.msMaxTouchPoints;a.isTouchDevice&&(a.hoveringTooltip=!1);"auto"==a.singleMonth&&(a.singleMonth=480>g(window).width());a.singleMonth&&(a.stickyMonths=!1);a.showTopbar||(a.autoClose=!0);a.startDate&&
"string"==typeof a.startDate&&(a.startDate=e(a.startDate,a.format).toDate());a.endDate&&"string"==typeof a.endDate&&(a.endDate=e(a.endDate,a.format).toDate());a.yearSelect&&"boolean"===typeof a.yearSelect&&(a.yearSelect=function(a){return[a-5,a+5]});var J=function(){if("auto"==a.language){var b=navigator.language?navigator.language:navigator.browserLanguage;if(!b)return g.dateRangePickerLanguages["default"];b=b.toLowerCase();return b in g.dateRangePickerLanguages?g.dateRangePickerLanguages[b]:g.dateRangePickerLanguages["default"]}return a.language&&
a.language in g.dateRangePickerLanguages?g.dateRangePickerLanguages[a.language]:g.dateRangePickerLanguages["default"]}(),d,x=!1,l=this,C=g(l).get(0),ka;g(this).off(".datepicker").on("click.datepicker",function(b){d.is(":visible")||K(a.duration)}).on("change.datepicker",function(a){L()}).on("keyup.datepicker",function(){try{clearTimeout(ka)}catch(b){}ka=setTimeout(function(){L()},2E3)});(function(){var b=this;if(g(this).data("date-picker-opened"))A();else{g(this).data("date-picker-opened",!0);d=oa().hide();
d.append('<div class="date-range-length-tip"></div>');g(a.container).append(d);a.inline?d.addClass("inline-wrapper"):E();a.alwaysOpen&&d.find(".apply-btn").hide();var c=ha();ia(c);if(a.time.enabled)if(a.startDate&&a.endDate||a.start&&a.end)H(e(a.start||a.startDate).toDate(),"time1"),H(e(a.end||a.endDate).toDate(),"time2");else{var l=a.defaultEndTime?a.defaultEndTime:c;H(c,"time1");H(l,"time2")}c="";c=a.singleDate?h("default-single"):a.minDays&&a.maxDays?h("default-range"):a.minDays?h("default-more"):
a.maxDays?h("default-less"):h("default-default");d.find(".default-top").html(c.replace(/%d/,a.minDays).replace(/%d/,a.maxDays));a.singleMonth?d.addClass("single-month"):d.addClass("two-months");setTimeout(function(){T();x=!0},0);d.click(function(a){a.stopPropagation()});g(document).on("click.datepicker",ja);d.find(".next").click(function(){if(a.stickyMonths){var b=r(a.month1),c=r(a.month2);I(c)||!a.singleDate&&0<=q(b,c)||(k(b,"month1"),k(c,"month2"),w())}else c=(b=g(this).parents("table").hasClass("month2"))?
a.month2:a.month1,c=r(c),!a.singleMonth&&!a.singleDate&&!b&&0<=q(c,a.month2)||I(c)||(k(c,b?"month2":"month1"),v())});d.find(".prev").click(function(){if(a.stickyMonths){var b=u(a.month1),c=u(a.month2);I(b)||!a.singleDate&&0>=q(c,b)||(k(c,"month2"),k(b,"month1"),w())}else c=(b=g(this).parents("table").hasClass("month2"))?a.month2:a.month1,c=u(c),b&&0>=q(c,a.month1)||I(c)||(k(c,b?"month2":"month1"),v())});d.attr("unselectable","on").css("user-select","none").on("selectstart",function(a){a.preventDefault();
return!1});d.find(".apply-btn").click(function(){A();var c=t(new Date(a.start))+a.separator+t(new Date(a.end));g(b).trigger("datepicker-apply",{value:c,date1:new Date(a.start),date2:new Date(a.end)})});d.find("[custom]").click(function(){var b=g(this).attr("custom");a.start=!1;a.end=!1;d.find(".day.checked").removeClass("checked");a.setValue.call(C,b);y();z(!0);w();a.autoClose&&A()});d.find("[shortcut]").click(function(){var b=g(this).attr("shortcut"),c=new Date,d=!1;if(-1!=b.indexOf("day"))b=parseInt(b.split(",",
2)[1],10),d=new Date((new Date).getTime()+864E5*b),c=new Date(c.getTime()+864E5*(0<b?1:-1));else if(-1!=b.indexOf("week")){b=-1!=b.indexOf("prev,")?-1:1;d=1==b?"monday"==a.startOfWeek?1:0:"monday"==a.startOfWeek?0:6;for(c=new Date(c.getTime()-864E5);c.getDay()!=d;)c=new Date(c.getTime()+864E5*b);d=new Date(c.getTime()+5184E5*b)}else if(-1!=b.indexOf("month"))b=-1!=b.indexOf("prev,")?-1:1,d=1==b?r(c):u(c),d.setDate(1),c=r(d),c.setDate(1),c=new Date(c.getTime()-864E5);else if(-1!=b.indexOf("year"))b=
-1!=b.indexOf("prev,")?-1:1,d=new Date,d.setFullYear(c.getFullYear()+b),d.setMonth(0),d.setDate(1),c.setFullYear(c.getFullYear()+b),c.setMonth(11),c.setDate(31);else if("custom"==b&&(b=g(this).html(),a.customShortcuts&&0<a.customShortcuts.length))for(var e=0;e<a.customShortcuts.length;e++){var h=a.customShortcuts[e];if(h.name==b){(b=h.dates.call())&&2==b.length&&(d=b[0],c=b[1]);b&&1==b.length&&(b=b[0],k(b,"month1"),k(r(b),"month2"),v());break}}d&&c&&(F(d,c),y())});d.find(".time1 input[type=range]").on("change touchmove",
function(a){var b=a.target;a="hour"==b.name?g(b).val().replace(/^(\d{1})$/,"0$1"):void 0;b="minute"==b.name?g(b).val().replace(/^(\d{1})$/,"0$1"):void 0;O("time1",a,b)});d.find(".time2 input[type=range]").on("change touchmove",function(a){var b=a.target;a="hour"==b.name?g(b).val().replace(/^(\d{1})$/,"0$1"):void 0;b="minute"==b.name?g(b).val().replace(/^(\d{1})$/,"0$1"):void 0;O("time2",a,b)})}}).call(this);a.alwaysOpen&&K(0);g(this).data("dateRangePicker",{setStart:function(b){"string"==typeof b&&
(b=e(b,a.format).toDate());a.end=!1;U(b);return this},setEnd:function(b,c){var d=new Date;d.setTime(a.start);"string"==typeof b&&(b=e(b,a.format).toDate());F(d,b,c);return this},setDateRange:function(b,c,d){"string"==typeof b&&"string"==typeof c&&(b=e(b,a.format).toDate(),c=e(c,a.format).toDate());F(b,c,d)},clear:function(){a.start=!1;a.end=!1;d.find(".day.checked").removeClass("checked");d.find(".day.last-date-selected").removeClass("last-date-selected");d.find(".day.first-date-selected").removeClass("first-date-selected");
a.setValue.call(C,"");y();z();w()},close:A,open:K,redraw:S,getDatePicker:function(){return d},resetMonthsView:ia,destroy:function(){g(l).off(".datepicker");g(l).data("dateRangePicker","");g(l).data("date-picker-opened",null);d.remove();g(window).off("resize.datepicker",E);g(document).off("click.datepicker",ja)}});g(window).on("resize.datepicker",E);return this}});
